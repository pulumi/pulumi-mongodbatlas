# coding=utf-8
# *** WARNING: this file was generated by pulumi-language-python. ***
# *** Do not edit by hand unless you're certain you know what you are doing! ***

import builtins as _builtins
import warnings
import sys
import pulumi
import pulumi.runtime
from typing import Any, Mapping, Optional, Sequence, Union, overload
if sys.version_info >= (3, 11):
    from typing import NotRequired, TypedDict, TypeAlias
else:
    from typing_extensions import NotRequired, TypedDict, TypeAlias
from . import _utilities

__all__ = ['ServiceAccountSecretInitArgs', 'ServiceAccountSecret']

@pulumi.input_type
class ServiceAccountSecretInitArgs:
    def __init__(__self__, *,
                 client_id: pulumi.Input[_builtins.str],
                 org_id: pulumi.Input[_builtins.str],
                 secret_expires_after_hours: Optional[pulumi.Input[_builtins.int]] = None):
        """
        The set of arguments for constructing a ServiceAccountSecret resource.
        :param pulumi.Input[_builtins.str] client_id: The Client ID of the Service Account.
        :param pulumi.Input[_builtins.str] org_id: Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        :param pulumi.Input[_builtins.int] secret_expires_after_hours: The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
        """
        pulumi.set(__self__, "client_id", client_id)
        pulumi.set(__self__, "org_id", org_id)
        if secret_expires_after_hours is not None:
            pulumi.set(__self__, "secret_expires_after_hours", secret_expires_after_hours)

    @_builtins.property
    @pulumi.getter(name="clientId")
    def client_id(self) -> pulumi.Input[_builtins.str]:
        """
        The Client ID of the Service Account.
        """
        return pulumi.get(self, "client_id")

    @client_id.setter
    def client_id(self, value: pulumi.Input[_builtins.str]):
        pulumi.set(self, "client_id", value)

    @_builtins.property
    @pulumi.getter(name="orgId")
    def org_id(self) -> pulumi.Input[_builtins.str]:
        """
        Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        """
        return pulumi.get(self, "org_id")

    @org_id.setter
    def org_id(self, value: pulumi.Input[_builtins.str]):
        pulumi.set(self, "org_id", value)

    @_builtins.property
    @pulumi.getter(name="secretExpiresAfterHours")
    def secret_expires_after_hours(self) -> Optional[pulumi.Input[_builtins.int]]:
        """
        The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
        """
        return pulumi.get(self, "secret_expires_after_hours")

    @secret_expires_after_hours.setter
    def secret_expires_after_hours(self, value: Optional[pulumi.Input[_builtins.int]]):
        pulumi.set(self, "secret_expires_after_hours", value)


@pulumi.input_type
class _ServiceAccountSecretState:
    def __init__(__self__, *,
                 client_id: Optional[pulumi.Input[_builtins.str]] = None,
                 created_at: Optional[pulumi.Input[_builtins.str]] = None,
                 expires_at: Optional[pulumi.Input[_builtins.str]] = None,
                 last_used_at: Optional[pulumi.Input[_builtins.str]] = None,
                 masked_secret_value: Optional[pulumi.Input[_builtins.str]] = None,
                 org_id: Optional[pulumi.Input[_builtins.str]] = None,
                 secret: Optional[pulumi.Input[_builtins.str]] = None,
                 secret_expires_after_hours: Optional[pulumi.Input[_builtins.int]] = None,
                 secret_id: Optional[pulumi.Input[_builtins.str]] = None):
        """
        Input properties used for looking up and filtering ServiceAccountSecret resources.
        :param pulumi.Input[_builtins.str] client_id: The Client ID of the Service Account.
        :param pulumi.Input[_builtins.str] created_at: The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        :param pulumi.Input[_builtins.str] expires_at: The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        :param pulumi.Input[_builtins.str] last_used_at: The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        :param pulumi.Input[_builtins.str] masked_secret_value: The masked Service Account secret.
        :param pulumi.Input[_builtins.str] org_id: Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        :param pulumi.Input[_builtins.str] secret: The secret for the Service Account. It will be returned only the first time after creation.
        :param pulumi.Input[_builtins.int] secret_expires_after_hours: The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
        :param pulumi.Input[_builtins.str] secret_id: Unique 24-hexadecimal digit string that identifies the secret.
        """
        if client_id is not None:
            pulumi.set(__self__, "client_id", client_id)
        if created_at is not None:
            pulumi.set(__self__, "created_at", created_at)
        if expires_at is not None:
            pulumi.set(__self__, "expires_at", expires_at)
        if last_used_at is not None:
            pulumi.set(__self__, "last_used_at", last_used_at)
        if masked_secret_value is not None:
            pulumi.set(__self__, "masked_secret_value", masked_secret_value)
        if org_id is not None:
            pulumi.set(__self__, "org_id", org_id)
        if secret is not None:
            pulumi.set(__self__, "secret", secret)
        if secret_expires_after_hours is not None:
            pulumi.set(__self__, "secret_expires_after_hours", secret_expires_after_hours)
        if secret_id is not None:
            pulumi.set(__self__, "secret_id", secret_id)

    @_builtins.property
    @pulumi.getter(name="clientId")
    def client_id(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        The Client ID of the Service Account.
        """
        return pulumi.get(self, "client_id")

    @client_id.setter
    def client_id(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "client_id", value)

    @_builtins.property
    @pulumi.getter(name="createdAt")
    def created_at(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        """
        return pulumi.get(self, "created_at")

    @created_at.setter
    def created_at(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "created_at", value)

    @_builtins.property
    @pulumi.getter(name="expiresAt")
    def expires_at(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        """
        return pulumi.get(self, "expires_at")

    @expires_at.setter
    def expires_at(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "expires_at", value)

    @_builtins.property
    @pulumi.getter(name="lastUsedAt")
    def last_used_at(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        """
        return pulumi.get(self, "last_used_at")

    @last_used_at.setter
    def last_used_at(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "last_used_at", value)

    @_builtins.property
    @pulumi.getter(name="maskedSecretValue")
    def masked_secret_value(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        The masked Service Account secret.
        """
        return pulumi.get(self, "masked_secret_value")

    @masked_secret_value.setter
    def masked_secret_value(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "masked_secret_value", value)

    @_builtins.property
    @pulumi.getter(name="orgId")
    def org_id(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        """
        return pulumi.get(self, "org_id")

    @org_id.setter
    def org_id(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "org_id", value)

    @_builtins.property
    @pulumi.getter
    def secret(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        The secret for the Service Account. It will be returned only the first time after creation.
        """
        return pulumi.get(self, "secret")

    @secret.setter
    def secret(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "secret", value)

    @_builtins.property
    @pulumi.getter(name="secretExpiresAfterHours")
    def secret_expires_after_hours(self) -> Optional[pulumi.Input[_builtins.int]]:
        """
        The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
        """
        return pulumi.get(self, "secret_expires_after_hours")

    @secret_expires_after_hours.setter
    def secret_expires_after_hours(self, value: Optional[pulumi.Input[_builtins.int]]):
        pulumi.set(self, "secret_expires_after_hours", value)

    @_builtins.property
    @pulumi.getter(name="secretId")
    def secret_id(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Unique 24-hexadecimal digit string that identifies the secret.
        """
        return pulumi.get(self, "secret_id")

    @secret_id.setter
    def secret_id(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "secret_id", value)


@pulumi.type_token("mongodbatlas:index/serviceAccountSecret:ServiceAccountSecret")
class ServiceAccountSecret(pulumi.CustomResource):
    @overload
    def __init__(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 client_id: Optional[pulumi.Input[_builtins.str]] = None,
                 org_id: Optional[pulumi.Input[_builtins.str]] = None,
                 secret_expires_after_hours: Optional[pulumi.Input[_builtins.int]] = None,
                 __props__=None):
        """
        ## Example Usage

        ### S

        ```python
        import pulumi
        import pulumi_mongodbatlas as mongodbatlas

        this_service_account = mongodbatlas.ServiceAccount("this",
            org_id=org_id,
            name="example-service-account",
            description="Example Service Account",
            roles=["ORG_READ_ONLY"],
            secret_expires_after_hours=2160)
        this_service_account_secret = mongodbatlas.ServiceAccountSecret("this",
            org_id=org_id,
            client_id=this_service_account.client_id,
            secret_expires_after_hours=2160)
        this = pulumi.Output.all(
            client_id=this_service_account.client_id,
            secret_id=this_service_account_secret.secret_id
        ).apply(lambda resolved_outputs: mongodbatlas.get_service_account_secret_output(org_id=org_id,
            client_id=resolved_outputs['client_id'],
            secret_id=resolved_outputs['secret_id']))

        pulumi.export("secretId", this_service_account_secret.secret_id)
        pulumi.export("secret", this_service_account_secret.secret)
        pulumi.export("secretExpiresAt", this.expires_at)
        ```

        ## Import

        Import the Service Account Secret resource by using the Organization ID, Client ID, and Secret ID in the format `ORG_ID/CLIENT_ID/SECRET_ID`, e.g.

        ```sh
        $ pulumi import mongodbatlas:index/serviceAccountSecret:ServiceAccountSecret test 6117ac2fe2a3d04ed27a987v/mdb_sa_id_1234567890abcdef12345678/04ed271234abcde2a3da123a
        ```
        For more information, see [Create One Organization Service Account Secret](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-createorgserviceaccountsecret) in the MongoDB Atlas API documentation.

        :param str resource_name: The name of the resource.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[_builtins.str] client_id: The Client ID of the Service Account.
        :param pulumi.Input[_builtins.str] org_id: Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        :param pulumi.Input[_builtins.int] secret_expires_after_hours: The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
        """
        ...
    @overload
    def __init__(__self__,
                 resource_name: str,
                 args: ServiceAccountSecretInitArgs,
                 opts: Optional[pulumi.ResourceOptions] = None):
        """
        ## Example Usage

        ### S

        ```python
        import pulumi
        import pulumi_mongodbatlas as mongodbatlas

        this_service_account = mongodbatlas.ServiceAccount("this",
            org_id=org_id,
            name="example-service-account",
            description="Example Service Account",
            roles=["ORG_READ_ONLY"],
            secret_expires_after_hours=2160)
        this_service_account_secret = mongodbatlas.ServiceAccountSecret("this",
            org_id=org_id,
            client_id=this_service_account.client_id,
            secret_expires_after_hours=2160)
        this = pulumi.Output.all(
            client_id=this_service_account.client_id,
            secret_id=this_service_account_secret.secret_id
        ).apply(lambda resolved_outputs: mongodbatlas.get_service_account_secret_output(org_id=org_id,
            client_id=resolved_outputs['client_id'],
            secret_id=resolved_outputs['secret_id']))

        pulumi.export("secretId", this_service_account_secret.secret_id)
        pulumi.export("secret", this_service_account_secret.secret)
        pulumi.export("secretExpiresAt", this.expires_at)
        ```

        ## Import

        Import the Service Account Secret resource by using the Organization ID, Client ID, and Secret ID in the format `ORG_ID/CLIENT_ID/SECRET_ID`, e.g.

        ```sh
        $ pulumi import mongodbatlas:index/serviceAccountSecret:ServiceAccountSecret test 6117ac2fe2a3d04ed27a987v/mdb_sa_id_1234567890abcdef12345678/04ed271234abcde2a3da123a
        ```
        For more information, see [Create One Organization Service Account Secret](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-createorgserviceaccountsecret) in the MongoDB Atlas API documentation.

        :param str resource_name: The name of the resource.
        :param ServiceAccountSecretInitArgs args: The arguments to use to populate this resource's properties.
        :param pulumi.ResourceOptions opts: Options for the resource.
        """
        ...
    def __init__(__self__, resource_name: str, *args, **kwargs):
        resource_args, opts = _utilities.get_resource_args_opts(ServiceAccountSecretInitArgs, pulumi.ResourceOptions, *args, **kwargs)
        if resource_args is not None:
            __self__._internal_init(resource_name, opts, **resource_args.__dict__)
        else:
            __self__._internal_init(resource_name, *args, **kwargs)

    def _internal_init(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 client_id: Optional[pulumi.Input[_builtins.str]] = None,
                 org_id: Optional[pulumi.Input[_builtins.str]] = None,
                 secret_expires_after_hours: Optional[pulumi.Input[_builtins.int]] = None,
                 __props__=None):
        opts = pulumi.ResourceOptions.merge(_utilities.get_resource_opts_defaults(), opts)
        if not isinstance(opts, pulumi.ResourceOptions):
            raise TypeError('Expected resource options to be a ResourceOptions instance')
        if opts.id is None:
            if __props__ is not None:
                raise TypeError('__props__ is only valid when passed in combination with a valid opts.id to get an existing resource')
            __props__ = ServiceAccountSecretInitArgs.__new__(ServiceAccountSecretInitArgs)

            if client_id is None and not opts.urn:
                raise TypeError("Missing required property 'client_id'")
            __props__.__dict__["client_id"] = client_id
            if org_id is None and not opts.urn:
                raise TypeError("Missing required property 'org_id'")
            __props__.__dict__["org_id"] = org_id
            __props__.__dict__["secret_expires_after_hours"] = secret_expires_after_hours
            __props__.__dict__["created_at"] = None
            __props__.__dict__["expires_at"] = None
            __props__.__dict__["last_used_at"] = None
            __props__.__dict__["masked_secret_value"] = None
            __props__.__dict__["secret"] = None
            __props__.__dict__["secret_id"] = None
        secret_opts = pulumi.ResourceOptions(additional_secret_outputs=["secret"])
        opts = pulumi.ResourceOptions.merge(opts, secret_opts)
        super(ServiceAccountSecret, __self__).__init__(
            'mongodbatlas:index/serviceAccountSecret:ServiceAccountSecret',
            resource_name,
            __props__,
            opts)

    @staticmethod
    def get(resource_name: str,
            id: pulumi.Input[str],
            opts: Optional[pulumi.ResourceOptions] = None,
            client_id: Optional[pulumi.Input[_builtins.str]] = None,
            created_at: Optional[pulumi.Input[_builtins.str]] = None,
            expires_at: Optional[pulumi.Input[_builtins.str]] = None,
            last_used_at: Optional[pulumi.Input[_builtins.str]] = None,
            masked_secret_value: Optional[pulumi.Input[_builtins.str]] = None,
            org_id: Optional[pulumi.Input[_builtins.str]] = None,
            secret: Optional[pulumi.Input[_builtins.str]] = None,
            secret_expires_after_hours: Optional[pulumi.Input[_builtins.int]] = None,
            secret_id: Optional[pulumi.Input[_builtins.str]] = None) -> 'ServiceAccountSecret':
        """
        Get an existing ServiceAccountSecret resource's state with the given name, id, and optional extra
        properties used to qualify the lookup.

        :param str resource_name: The unique name of the resulting resource.
        :param pulumi.Input[str] id: The unique provider ID of the resource to lookup.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[_builtins.str] client_id: The Client ID of the Service Account.
        :param pulumi.Input[_builtins.str] created_at: The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        :param pulumi.Input[_builtins.str] expires_at: The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        :param pulumi.Input[_builtins.str] last_used_at: The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        :param pulumi.Input[_builtins.str] masked_secret_value: The masked Service Account secret.
        :param pulumi.Input[_builtins.str] org_id: Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        :param pulumi.Input[_builtins.str] secret: The secret for the Service Account. It will be returned only the first time after creation.
        :param pulumi.Input[_builtins.int] secret_expires_after_hours: The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
        :param pulumi.Input[_builtins.str] secret_id: Unique 24-hexadecimal digit string that identifies the secret.
        """
        opts = pulumi.ResourceOptions.merge(opts, pulumi.ResourceOptions(id=id))

        __props__ = _ServiceAccountSecretState.__new__(_ServiceAccountSecretState)

        __props__.__dict__["client_id"] = client_id
        __props__.__dict__["created_at"] = created_at
        __props__.__dict__["expires_at"] = expires_at
        __props__.__dict__["last_used_at"] = last_used_at
        __props__.__dict__["masked_secret_value"] = masked_secret_value
        __props__.__dict__["org_id"] = org_id
        __props__.__dict__["secret"] = secret
        __props__.__dict__["secret_expires_after_hours"] = secret_expires_after_hours
        __props__.__dict__["secret_id"] = secret_id
        return ServiceAccountSecret(resource_name, opts=opts, __props__=__props__)

    @_builtins.property
    @pulumi.getter(name="clientId")
    def client_id(self) -> pulumi.Output[_builtins.str]:
        """
        The Client ID of the Service Account.
        """
        return pulumi.get(self, "client_id")

    @_builtins.property
    @pulumi.getter(name="createdAt")
    def created_at(self) -> pulumi.Output[_builtins.str]:
        """
        The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        """
        return pulumi.get(self, "created_at")

    @_builtins.property
    @pulumi.getter(name="expiresAt")
    def expires_at(self) -> pulumi.Output[_builtins.str]:
        """
        The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        """
        return pulumi.get(self, "expires_at")

    @_builtins.property
    @pulumi.getter(name="lastUsedAt")
    def last_used_at(self) -> pulumi.Output[_builtins.str]:
        """
        The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        """
        return pulumi.get(self, "last_used_at")

    @_builtins.property
    @pulumi.getter(name="maskedSecretValue")
    def masked_secret_value(self) -> pulumi.Output[_builtins.str]:
        """
        The masked Service Account secret.
        """
        return pulumi.get(self, "masked_secret_value")

    @_builtins.property
    @pulumi.getter(name="orgId")
    def org_id(self) -> pulumi.Output[_builtins.str]:
        """
        Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        """
        return pulumi.get(self, "org_id")

    @_builtins.property
    @pulumi.getter
    def secret(self) -> pulumi.Output[_builtins.str]:
        """
        The secret for the Service Account. It will be returned only the first time after creation.
        """
        return pulumi.get(self, "secret")

    @_builtins.property
    @pulumi.getter(name="secretExpiresAfterHours")
    def secret_expires_after_hours(self) -> pulumi.Output[Optional[_builtins.int]]:
        """
        The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
        """
        return pulumi.get(self, "secret_expires_after_hours")

    @_builtins.property
    @pulumi.getter(name="secretId")
    def secret_id(self) -> pulumi.Output[_builtins.str]:
        """
        Unique 24-hexadecimal digit string that identifies the secret.
        """
        return pulumi.get(self, "secret_id")

