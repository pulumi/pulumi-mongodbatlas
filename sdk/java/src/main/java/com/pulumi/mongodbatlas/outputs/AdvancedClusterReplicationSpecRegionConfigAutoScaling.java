// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.mongodbatlas.outputs;

import com.pulumi.core.annotations.CustomType;
import java.lang.Boolean;
import java.lang.String;
import java.util.Objects;
import java.util.Optional;
import javax.annotation.Nullable;

@CustomType
public final class AdvancedClusterReplicationSpecRegionConfigAutoScaling {
    /**
     * @return Flag that indicates whether instance size auto-scaling is enabled. This parameter defaults to false. If a sharded cluster is making use of the New Sharding Configuration, auto-scaling of the instance size will be independent for each individual shard. Please reference the Use Auto-Scaling Per Shard section for more details.
     * 
     */
    private @Nullable Boolean computeEnabled;
    /**
     * @return Maximum instance size to which your cluster can automatically scale (such as M40). Atlas requires this parameter if `replication_specs[#].region_configs[#].auto_scaling.compute_enabled` is true.
     * 
     * &gt; **NOTE:** MongoDB recommends enabling both [cluster tier (compute) and storage auto-scaling](https://www.mongodb.com/docs/atlas/cluster-autoscaling/#cluster-tier-and-cluster-storage-might-scale-in-parallel) together for optimal performance and cost efficiency. When only one type of auto-scaling is enabled, Atlas may still adjust both compute and storage resources to maintain optimal cluster performance. See the [Atlas Auto-Scaling documentation](https://www.mongodb.com/docs/atlas/cluster-autoscaling/) and [Scalability Best Practices](https://www.mongodb.com/docs/atlas/architecture/current/scalability/#all-deployment-paradigm-recommendations) for more information.
     * 
     * When auto-scaling is enabled, there are two approaches to manage your cluster configuration with Terraform:
     * 
     * **Option 1 (Recommended):** Use `useEffectiveFields = true` to enable the new effective fields behavior. With this option, Atlas-managed auto-scaling changes won&#39;t cause plan drift, eliminating the need for `lifecycle` ignore customizations. When either compute or disk auto-scaling is enabled (or both), all three fields (`instanceSize`, `diskSizeGb`, and `diskIops`) are ignored in the Terraform configuration, as Atlas may adjust any of these resources to maintain optimal cluster performance. You can read the actual scaled values using the `effectiveElectableSpecs` and `effectiveReadOnlySpecs` attributes in the `mongodbatlas.AdvancedCluster` data source. See Auto-Scaling with Effective Fields for details.
     * 
     * **Important:** If you&#39;re enabling this flag on an existing cluster that has `lifecycle.ignore_changes` blocks for spec fields, enable the flag and remove the blocks in the same apply. The blocks are no longer needed and may interfere with the new behavior. If you previously removed `readOnlySpecs` or `analyticsSpecs` attributes, you may encounter a validation error. This is a safety check to prevent accidental node loss. To resolve: add the blocks back (to keep nodes) or with `nodeCount = 0` (to delete nodes), apply without toggling the flag, then toggle in a separate apply.
     * 
     * To manually update `instanceSize`, `diskSizeGb`, or `diskIops` with Option 1, you must temporarily disable auto-scaling. See Manually Updating Specs with useEffectiveFields for the detailed workflow.
     * 
     * **Option 2:** If not using `useEffectiveFields`, use a lifecycle ignore customization to prevent unintended changes. When auto-scaling is enabled, you must ignore all three fields (`instanceSize`, `diskSizeGb`, and `diskIops`) as Atlas may adjust any of these resources regardless of which auto-scaling type is enabled.
     * 
     */
    private @Nullable String computeMaxInstanceSize;
    /**
     * @return Minimum instance size to which your cluster can automatically scale (such as M10). Atlas requires this parameter if `replication_specs[#].region_configs[#].auto_scaling.compute_scale_down_enabled` is true.
     * 
     */
    private @Nullable String computeMinInstanceSize;
    /**
     * @return Flag that indicates whether the instance size may scale down. Atlas requires this parameter if `replication_specs[#].region_configs[#].auto_scaling.compute_enabled` : true. If you enable this option, specify a value for `replication_specs[#].region_configs[#].auto_scaling.compute_min_instance_size`.
     * 
     */
    private @Nullable Boolean computeScaleDownEnabled;
    /**
     * @return Flag that indicates whether this cluster enables disk auto-scaling. This parameter defaults to false.
     * 
     */
    private @Nullable Boolean diskGbEnabled;

    private AdvancedClusterReplicationSpecRegionConfigAutoScaling() {}
    /**
     * @return Flag that indicates whether instance size auto-scaling is enabled. This parameter defaults to false. If a sharded cluster is making use of the New Sharding Configuration, auto-scaling of the instance size will be independent for each individual shard. Please reference the Use Auto-Scaling Per Shard section for more details.
     * 
     */
    public Optional<Boolean> computeEnabled() {
        return Optional.ofNullable(this.computeEnabled);
    }
    /**
     * @return Maximum instance size to which your cluster can automatically scale (such as M40). Atlas requires this parameter if `replication_specs[#].region_configs[#].auto_scaling.compute_enabled` is true.
     * 
     * &gt; **NOTE:** MongoDB recommends enabling both [cluster tier (compute) and storage auto-scaling](https://www.mongodb.com/docs/atlas/cluster-autoscaling/#cluster-tier-and-cluster-storage-might-scale-in-parallel) together for optimal performance and cost efficiency. When only one type of auto-scaling is enabled, Atlas may still adjust both compute and storage resources to maintain optimal cluster performance. See the [Atlas Auto-Scaling documentation](https://www.mongodb.com/docs/atlas/cluster-autoscaling/) and [Scalability Best Practices](https://www.mongodb.com/docs/atlas/architecture/current/scalability/#all-deployment-paradigm-recommendations) for more information.
     * 
     * When auto-scaling is enabled, there are two approaches to manage your cluster configuration with Terraform:
     * 
     * **Option 1 (Recommended):** Use `useEffectiveFields = true` to enable the new effective fields behavior. With this option, Atlas-managed auto-scaling changes won&#39;t cause plan drift, eliminating the need for `lifecycle` ignore customizations. When either compute or disk auto-scaling is enabled (or both), all three fields (`instanceSize`, `diskSizeGb`, and `diskIops`) are ignored in the Terraform configuration, as Atlas may adjust any of these resources to maintain optimal cluster performance. You can read the actual scaled values using the `effectiveElectableSpecs` and `effectiveReadOnlySpecs` attributes in the `mongodbatlas.AdvancedCluster` data source. See Auto-Scaling with Effective Fields for details.
     * 
     * **Important:** If you&#39;re enabling this flag on an existing cluster that has `lifecycle.ignore_changes` blocks for spec fields, enable the flag and remove the blocks in the same apply. The blocks are no longer needed and may interfere with the new behavior. If you previously removed `readOnlySpecs` or `analyticsSpecs` attributes, you may encounter a validation error. This is a safety check to prevent accidental node loss. To resolve: add the blocks back (to keep nodes) or with `nodeCount = 0` (to delete nodes), apply without toggling the flag, then toggle in a separate apply.
     * 
     * To manually update `instanceSize`, `diskSizeGb`, or `diskIops` with Option 1, you must temporarily disable auto-scaling. See Manually Updating Specs with useEffectiveFields for the detailed workflow.
     * 
     * **Option 2:** If not using `useEffectiveFields`, use a lifecycle ignore customization to prevent unintended changes. When auto-scaling is enabled, you must ignore all three fields (`instanceSize`, `diskSizeGb`, and `diskIops`) as Atlas may adjust any of these resources regardless of which auto-scaling type is enabled.
     * 
     */
    public Optional<String> computeMaxInstanceSize() {
        return Optional.ofNullable(this.computeMaxInstanceSize);
    }
    /**
     * @return Minimum instance size to which your cluster can automatically scale (such as M10). Atlas requires this parameter if `replication_specs[#].region_configs[#].auto_scaling.compute_scale_down_enabled` is true.
     * 
     */
    public Optional<String> computeMinInstanceSize() {
        return Optional.ofNullable(this.computeMinInstanceSize);
    }
    /**
     * @return Flag that indicates whether the instance size may scale down. Atlas requires this parameter if `replication_specs[#].region_configs[#].auto_scaling.compute_enabled` : true. If you enable this option, specify a value for `replication_specs[#].region_configs[#].auto_scaling.compute_min_instance_size`.
     * 
     */
    public Optional<Boolean> computeScaleDownEnabled() {
        return Optional.ofNullable(this.computeScaleDownEnabled);
    }
    /**
     * @return Flag that indicates whether this cluster enables disk auto-scaling. This parameter defaults to false.
     * 
     */
    public Optional<Boolean> diskGbEnabled() {
        return Optional.ofNullable(this.diskGbEnabled);
    }

    public static Builder builder() {
        return new Builder();
    }

    public static Builder builder(AdvancedClusterReplicationSpecRegionConfigAutoScaling defaults) {
        return new Builder(defaults);
    }
    @CustomType.Builder
    public static final class Builder {
        private @Nullable Boolean computeEnabled;
        private @Nullable String computeMaxInstanceSize;
        private @Nullable String computeMinInstanceSize;
        private @Nullable Boolean computeScaleDownEnabled;
        private @Nullable Boolean diskGbEnabled;
        public Builder() {}
        public Builder(AdvancedClusterReplicationSpecRegionConfigAutoScaling defaults) {
    	      Objects.requireNonNull(defaults);
    	      this.computeEnabled = defaults.computeEnabled;
    	      this.computeMaxInstanceSize = defaults.computeMaxInstanceSize;
    	      this.computeMinInstanceSize = defaults.computeMinInstanceSize;
    	      this.computeScaleDownEnabled = defaults.computeScaleDownEnabled;
    	      this.diskGbEnabled = defaults.diskGbEnabled;
        }

        @CustomType.Setter
        public Builder computeEnabled(@Nullable Boolean computeEnabled) {

            this.computeEnabled = computeEnabled;
            return this;
        }
        @CustomType.Setter
        public Builder computeMaxInstanceSize(@Nullable String computeMaxInstanceSize) {

            this.computeMaxInstanceSize = computeMaxInstanceSize;
            return this;
        }
        @CustomType.Setter
        public Builder computeMinInstanceSize(@Nullable String computeMinInstanceSize) {

            this.computeMinInstanceSize = computeMinInstanceSize;
            return this;
        }
        @CustomType.Setter
        public Builder computeScaleDownEnabled(@Nullable Boolean computeScaleDownEnabled) {

            this.computeScaleDownEnabled = computeScaleDownEnabled;
            return this;
        }
        @CustomType.Setter
        public Builder diskGbEnabled(@Nullable Boolean diskGbEnabled) {

            this.diskGbEnabled = diskGbEnabled;
            return this;
        }
        public AdvancedClusterReplicationSpecRegionConfigAutoScaling build() {
            final var _resultValue = new AdvancedClusterReplicationSpecRegionConfigAutoScaling();
            _resultValue.computeEnabled = computeEnabled;
            _resultValue.computeMaxInstanceSize = computeMaxInstanceSize;
            _resultValue.computeMinInstanceSize = computeMinInstanceSize;
            _resultValue.computeScaleDownEnabled = computeScaleDownEnabled;
            _resultValue.diskGbEnabled = diskGbEnabled;
            return _resultValue;
        }
    }
}
