// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.mongodbatlas;

import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import com.pulumi.mongodbatlas.ProjectServiceAccountAccessListEntryArgs;
import com.pulumi.mongodbatlas.Utilities;
import com.pulumi.mongodbatlas.inputs.ProjectServiceAccountAccessListEntryState;
import java.lang.Integer;
import java.lang.String;
import javax.annotation.Nullable;

/**
 * `mongodbatlas.ProjectServiceAccountAccessListEntry` provides an Access List entry resource for Project Service Accounts. The resource lets you create, delete, and import an Access List entry for the specified Project Service Account.
 * 
 * &gt; **IMPORTANT:** When you remove an entry from the access list, existing connections from the removed address(es) may remain open for a variable amount of time. How much time passes before Atlas closes the connection depends on several factors, including how the connection was established, the particular behavior of the application or driver using the address, and the connection protocol (e.g., TCP or UDP). This is particularly important to consider when changing an existing IP address or CIDR block as they cannot be updated via the Provider, hence a change will force the destruction and recreation of entries.
 * 
 * &gt; **IMPORTANT WARNING:** Managing Service Accounts with Terraform **exposes sensitive organizational secrets** in Terraform&#39;s state. We suggest following Terraform&#39;s best practices.
 * 
 * ## Example Usage
 * 
 * ### S
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.mongodbatlas.ProjectServiceAccount;
 * import com.pulumi.mongodbatlas.ProjectServiceAccountArgs;
 * import com.pulumi.mongodbatlas.ProjectServiceAccountAccessListEntry;
 * import com.pulumi.mongodbatlas.ProjectServiceAccountAccessListEntryArgs;
 * import com.pulumi.mongodbatlas.MongodbatlasFunctions;
 * import com.pulumi.mongodbatlas.inputs.GetProjectServiceAccountAccessListEntryArgs;
 * import com.pulumi.mongodbatlas.inputs.GetProjectServiceAccountAccessListEntriesArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         var thisProjectServiceAccount = new ProjectServiceAccount("thisProjectServiceAccount", ProjectServiceAccountArgs.builder()
 *             .projectId(projectId)
 *             .name("example-project-service-account")
 *             .description("Example Project Service Account")
 *             .roles("GROUP_READ_ONLY")
 *             .secretExpiresAfterHours(2160)
 *             .build());
 * 
 *         // Add IP Access List Entry to Project Service Account using CIDR Block
 *         var cidr = new ProjectServiceAccountAccessListEntry("cidr", ProjectServiceAccountAccessListEntryArgs.builder()
 *             .projectId(projectId)
 *             .clientId(thisProjectServiceAccount.clientId())
 *             .cidrBlock("1.2.3.4/32")
 *             .build());
 * 
 *         // Add IP Access List Entry to Project Service Account using IP Address
 *         var ip = new ProjectServiceAccountAccessListEntry("ip", ProjectServiceAccountAccessListEntryArgs.builder()
 *             .projectId(projectId)
 *             .clientId(thisProjectServiceAccount.clientId())
 *             .ipAddress("2.3.4.5")
 *             .build());
 * 
 *         // Data source to read a single Access List entry for the Project Service Account
 *         final var this = MongodbatlasFunctions.getProjectServiceAccountAccessListEntry(GetProjectServiceAccountAccessListEntryArgs.builder()
 *             .projectId(cidr.projectId())
 *             .clientId(cidr.clientId())
 *             .cidrBlock(cidr.cidrBlock())
 *             .build());
 * 
 *         ctx.export("accessListEntryCidrBlock", this_.applyValue(_this_ -> _this_.cidrBlock()));
 *         // Data source to read all Access List entries for the Project Service Account
 *         final var thisGetProjectServiceAccountAccessListEntries = MongodbatlasFunctions.getProjectServiceAccountAccessListEntries(GetProjectServiceAccountAccessListEntriesArgs.builder()
 *             .projectId(thisProjectServiceAccount.projectId())
 *             .clientId(thisProjectServiceAccount.clientId())
 *             .build());
 * 
 *         ctx.export("allAccessListEntries", thisGetProjectServiceAccountAccessListEntries.applyValue(_thisGetProjectServiceAccountAccessListEntries -> _thisGetProjectServiceAccountAccessListEntries.results()));
 *     }
 * }
 * }
 * </pre>
 * 
 * ## Import
 * 
 * Access List entries for Project Service Accounts can be imported using the `projectId`, `clientId` and `cidrBlock` or `ipAddress`, e.g.
 * 
 * ```sh
 * $ pulumi import mongodbatlas:index/projectServiceAccountAccessListEntry:ProjectServiceAccountAccessListEntry test 5d0f1f74cf09a29120e123cd-mdb_sa_id_1234567890abcdef12345678-10.242.88.0/21
 * ```
 * 
 * For more information, see [Add Access List Entries for One Project Service Account](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-creategroupserviceaccountaccesslist) in the MongoDB Atlas API documentation.
 * 
 */
@ResourceType(type="mongodbatlas:index/projectServiceAccountAccessListEntry:ProjectServiceAccountAccessListEntry")
public class ProjectServiceAccountAccessListEntry extends com.pulumi.resources.CustomResource {
    /**
     * Range of IP addresses in CIDR notation to be added to the access list. You can set a value for this parameter or **ip_address**, but not for both.
     * 
     */
    @Export(name="cidrBlock", refs={String.class}, tree="[0]")
    private Output<String> cidrBlock;

    /**
     * @return Range of IP addresses in CIDR notation to be added to the access list. You can set a value for this parameter or **ip_address**, but not for both.
     * 
     */
    public Output<String> cidrBlock() {
        return this.cidrBlock;
    }
    /**
     * The Client ID of the Service Account.
     * 
     */
    @Export(name="clientId", refs={String.class}, tree="[0]")
    private Output<String> clientId;

    /**
     * @return The Client ID of the Service Account.
     * 
     */
    public Output<String> clientId() {
        return this.clientId;
    }
    /**
     * Date the entry was added to the access list. This attribute expresses its value in the ISO 8601 timestamp format in UTC.
     * 
     */
    @Export(name="createdAt", refs={String.class}, tree="[0]")
    private Output<String> createdAt;

    /**
     * @return Date the entry was added to the access list. This attribute expresses its value in the ISO 8601 timestamp format in UTC.
     * 
     */
    public Output<String> createdAt() {
        return this.createdAt;
    }
    /**
     * IP address to be added to the access list. You can set a value for this parameter or **cidr_block**, but not for both.
     * 
     */
    @Export(name="ipAddress", refs={String.class}, tree="[0]")
    private Output<String> ipAddress;

    /**
     * @return IP address to be added to the access list. You can set a value for this parameter or **cidr_block**, but not for both.
     * 
     */
    public Output<String> ipAddress() {
        return this.ipAddress;
    }
    /**
     * Network address that issued the most recent request to the API.
     * 
     */
    @Export(name="lastUsedAddress", refs={String.class}, tree="[0]")
    private Output<String> lastUsedAddress;

    /**
     * @return Network address that issued the most recent request to the API.
     * 
     */
    public Output<String> lastUsedAddress() {
        return this.lastUsedAddress;
    }
    /**
     * Date when the API received the most recent request that originated from this network address.
     * 
     */
    @Export(name="lastUsedAt", refs={String.class}, tree="[0]")
    private Output<String> lastUsedAt;

    /**
     * @return Date when the API received the most recent request that originated from this network address.
     * 
     */
    public Output<String> lastUsedAt() {
        return this.lastUsedAt;
    }
    /**
     * Unique 24-hexadecimal digit string that identifies the project.
     * 
     */
    @Export(name="projectId", refs={String.class}, tree="[0]")
    private Output<String> projectId;

    /**
     * @return Unique 24-hexadecimal digit string that identifies the project.
     * 
     */
    public Output<String> projectId() {
        return this.projectId;
    }
    /**
     * The number of requests that has originated from this network address.
     * 
     */
    @Export(name="requestCount", refs={Integer.class}, tree="[0]")
    private Output<Integer> requestCount;

    /**
     * @return The number of requests that has originated from this network address.
     * 
     */
    public Output<Integer> requestCount() {
        return this.requestCount;
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public ProjectServiceAccountAccessListEntry(java.lang.String name) {
        this(name, ProjectServiceAccountAccessListEntryArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public ProjectServiceAccountAccessListEntry(java.lang.String name, ProjectServiceAccountAccessListEntryArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public ProjectServiceAccountAccessListEntry(java.lang.String name, ProjectServiceAccountAccessListEntryArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("mongodbatlas:index/projectServiceAccountAccessListEntry:ProjectServiceAccountAccessListEntry", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private ProjectServiceAccountAccessListEntry(java.lang.String name, Output<java.lang.String> id, @Nullable ProjectServiceAccountAccessListEntryState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("mongodbatlas:index/projectServiceAccountAccessListEntry:ProjectServiceAccountAccessListEntry", name, state, makeResourceOptions(options, id), false);
    }

    private static ProjectServiceAccountAccessListEntryArgs makeArgs(ProjectServiceAccountAccessListEntryArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? ProjectServiceAccountAccessListEntryArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static ProjectServiceAccountAccessListEntry get(java.lang.String name, Output<java.lang.String> id, @Nullable ProjectServiceAccountAccessListEntryState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new ProjectServiceAccountAccessListEntry(name, id, state, options);
    }
}
