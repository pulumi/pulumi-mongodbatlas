// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Mongodbatlas.Outputs
{

    [OutputType]
    public sealed class AdvancedClusterReplicationSpecRegionConfigAutoScaling
    {
        /// <summary>
        /// Flag that indicates whether instance size auto-scaling is enabled. This parameter defaults to false. If a sharded cluster is making use of the New Sharding Configuration, auto-scaling of the instance size will be independent for each individual shard. Please reference the Use Auto-Scaling Per Shard section for more details.
        /// </summary>
        public readonly bool? ComputeEnabled;
        /// <summary>
        /// Maximum instance size to which your cluster can automatically scale (such as M40). Atlas requires this parameter if `replication_specs[#].region_configs[#].auto_scaling.compute_enabled` is true.
        /// 
        /// &gt; **NOTE:** MongoDB recommends enabling both [cluster tier (compute) and storage auto-scaling](https://www.mongodb.com/docs/atlas/cluster-autoscaling/#cluster-tier-and-cluster-storage-might-scale-in-parallel) together for optimal performance and cost efficiency. When only one type of auto-scaling is enabled, Atlas may still adjust both compute and storage resources to maintain optimal cluster performance. See the [Atlas Auto-Scaling documentation](https://www.mongodb.com/docs/atlas/cluster-autoscaling/) and [Scalability Best Practices](https://www.mongodb.com/docs/atlas/architecture/current/scalability/#all-deployment-paradigm-recommendations) for more information.
        /// 
        /// When auto-scaling is enabled, there are two approaches to manage your cluster configuration with Terraform:
        /// 
        /// **Option 1 (Recommended):** Use `UseEffectiveFields = true` to enable the new effective fields behavior. With this option, Atlas-managed auto-scaling changes won't cause plan drift, eliminating the need for `Lifecycle` ignore customizations. When either compute or disk auto-scaling is enabled (or both), all three fields (`InstanceSize`, `DiskSizeGb`, and `DiskIops`) are ignored in the Terraform configuration, as Atlas may adjust any of these resources to maintain optimal cluster performance. You can read the actual scaled values using the `EffectiveElectableSpecs` and `EffectiveReadOnlySpecs` attributes in the `mongodbatlas.AdvancedCluster` data source. See Auto-Scaling with Effective Fields for details.
        /// 
        /// **Important:** If you're enabling this flag on an existing cluster that has `lifecycle.ignore_changes` blocks for spec fields, enable the flag and remove the blocks in the same apply. The blocks are no longer needed and may interfere with the new behavior. If you previously removed `ReadOnlySpecs` or `AnalyticsSpecs` attributes, you may encounter a validation error. This is a safety check to prevent accidental node loss. To resolve: add the blocks back (to keep nodes) or with `NodeCount = 0` (to delete nodes), apply without toggling the flag, then toggle in a separate apply.
        /// 
        /// To manually update `InstanceSize`, `DiskSizeGb`, or `DiskIops` with Option 1, you must temporarily disable auto-scaling. See Manually Updating Specs with UseEffectiveFields for the detailed workflow.
        /// 
        /// **Option 2:** If not using `UseEffectiveFields`, use a lifecycle ignore customization to prevent unintended changes. When auto-scaling is enabled, you must ignore all three fields (`InstanceSize`, `DiskSizeGb`, and `DiskIops`) as Atlas may adjust any of these resources regardless of which auto-scaling type is enabled.
        /// </summary>
        public readonly string? ComputeMaxInstanceSize;
        /// <summary>
        /// Minimum instance size to which your cluster can automatically scale (such as M10). Atlas requires this parameter if `replication_specs[#].region_configs[#].auto_scaling.compute_scale_down_enabled` is true.
        /// </summary>
        public readonly string? ComputeMinInstanceSize;
        /// <summary>
        /// Flag that indicates whether the instance size may scale down. Atlas requires this parameter if `replication_specs[#].region_configs[#].auto_scaling.compute_enabled` : true. If you enable this option, specify a value for `replication_specs[#].region_configs[#].auto_scaling.compute_min_instance_size`.
        /// </summary>
        public readonly bool? ComputeScaleDownEnabled;
        /// <summary>
        /// Flag that indicates whether this cluster enables disk auto-scaling. This parameter defaults to false.
        /// </summary>
        public readonly bool? DiskGbEnabled;

        [OutputConstructor]
        private AdvancedClusterReplicationSpecRegionConfigAutoScaling(
            bool? computeEnabled,

            string? computeMaxInstanceSize,

            string? computeMinInstanceSize,

            bool? computeScaleDownEnabled,

            bool? diskGbEnabled)
        {
            ComputeEnabled = computeEnabled;
            ComputeMaxInstanceSize = computeMaxInstanceSize;
            ComputeMinInstanceSize = computeMinInstanceSize;
            ComputeScaleDownEnabled = computeScaleDownEnabled;
            DiskGbEnabled = diskGbEnabled;
        }
    }
}
