// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Mongodbatlas
{
    /// <summary>
    /// `mongodbatlas.AccessListApiKey` provides an IP Access List entry resource. The access list grants access from IPs or CIDRs to clusters within the Project.
    /// 
    /// &gt; **Note:** The `mongodbatlas.AccessListApiKey` resource can be used to manage all Programmatic API Keys, regardless of whether they were created at the Organization level or Project level.
    /// 
    /// &gt; **NOTE:** Groups and projects are synonymous terms. You may find `groupId` in the official documentation.
    /// 
    /// &gt; **IMPORTANT:**
    /// When you remove an entry from the access list, existing connections from the removed address(es) may remain open for a variable amount of time. How much time passes before Atlas closes the connection depends on several factors, including how the connection was established, the particular behavior of the application or driver using the address, and the connection protocol (e.g., TCP or UDP). This is particularly important to consider when changing an existing IP address or CIDR block as they cannot be updated via the Provider, hence a change will force the destruction and recreation of entries.
    /// 
    /// &gt; **IMPORTANT WARNING:** Managing Atlas Programmatic API Keys (PAKs) with Terraform will expose sensitive organizational secrets in Terraform's state. We suggest following Terraform's best practices. You may also want to consider managing your PAKs via a more secure method, such as the [HashiCorp Vault MongoDB Atlas Secrets Engine](https://developer.hashicorp.com/vault/docs/secrets/mongodbatlas).
    /// 
    /// ## Example Usage
    /// 
    /// ### Using CIDR Block
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Mongodbatlas = Pulumi.Mongodbatlas;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var test = new Mongodbatlas.AccessListApiKey("test", new()
    ///     {
    ///         OrgId = "&lt;ORG_ID&gt;",
    ///         CidrBlock = "1.2.3.4/32",
    ///         ApiKeyId = "&lt;API_KEY_ID&gt;",
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### Using IP Address
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Mongodbatlas = Pulumi.Mongodbatlas;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var test = new Mongodbatlas.AccessListApiKey("test", new()
    ///     {
    ///         OrgId = "&lt;ORG_ID&gt;",
    ///         IpAddress = "2.3.4.5",
    ///         ApiKeyId = "&lt;API_KEY_ID&gt;",
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ### Further Examples
    /// - Create Programmatic API Key
    /// 
    /// ## Import
    /// 
    /// IP Access List entries can be imported using the `OrgId` , `ApiKeyId` and `CidrBlock` or `IpAddress`, e.g.
    /// 
    /// ```sh
    /// $ pulumi import mongodbatlas:index/accessListApiKey:AccessListApiKey test 5d0f1f74cf09a29120e123cd-a29120e123cd-10.242.88.0/21
    /// ```
    /// 
    /// For more information see: [MongoDB Atlas API Reference.](https://www.mongodb.com/docs/atlas/reference/api-resources-spec/#tag/Programmatic-API-Keys/operation/createApiKeyAccessList)
    /// </summary>
    [MongodbatlasResourceType("mongodbatlas:index/accessListApiKey:AccessListApiKey")]
    public partial class AccessListApiKey : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Unique identifier for the Organization API Key for which you want to create a new access list entry.
        /// 
        /// &gt; **NOTE:** One of the following attributes must set: `CidrBlock`  or `IpAddress` but not both.
        /// </summary>
        [Output("apiKeyId")]
        public Output<string> ApiKeyId { get; private set; } = null!;

        /// <summary>
        /// Range of IP addresses in CIDR notation to be added to the access list. Your access list entry can include only one `cidrBlock`, or one `ipAddress`.
        /// </summary>
        [Output("cidrBlock")]
        public Output<string> CidrBlock { get; private set; } = null!;

        /// <summary>
        /// Single IP address to be added to the access list.
        /// </summary>
        [Output("ipAddress")]
        public Output<string> IpAddress { get; private set; } = null!;

        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        /// </summary>
        [Output("orgId")]
        public Output<string> OrgId { get; private set; } = null!;


        /// <summary>
        /// Create a AccessListApiKey resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public AccessListApiKey(string name, AccessListApiKeyArgs args, CustomResourceOptions? options = null)
            : base("mongodbatlas:index/accessListApiKey:AccessListApiKey", name, args ?? new AccessListApiKeyArgs(), MakeResourceOptions(options, ""))
        {
        }

        private AccessListApiKey(string name, Input<string> id, AccessListApiKeyState? state = null, CustomResourceOptions? options = null)
            : base("mongodbatlas:index/accessListApiKey:AccessListApiKey", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing AccessListApiKey resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static AccessListApiKey Get(string name, Input<string> id, AccessListApiKeyState? state = null, CustomResourceOptions? options = null)
        {
            return new AccessListApiKey(name, id, state, options);
        }
    }

    public sealed class AccessListApiKeyArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Unique identifier for the Organization API Key for which you want to create a new access list entry.
        /// 
        /// &gt; **NOTE:** One of the following attributes must set: `CidrBlock`  or `IpAddress` but not both.
        /// </summary>
        [Input("apiKeyId", required: true)]
        public Input<string> ApiKeyId { get; set; } = null!;

        /// <summary>
        /// Range of IP addresses in CIDR notation to be added to the access list. Your access list entry can include only one `cidrBlock`, or one `ipAddress`.
        /// </summary>
        [Input("cidrBlock")]
        public Input<string>? CidrBlock { get; set; }

        /// <summary>
        /// Single IP address to be added to the access list.
        /// </summary>
        [Input("ipAddress")]
        public Input<string>? IpAddress { get; set; }

        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        /// </summary>
        [Input("orgId", required: true)]
        public Input<string> OrgId { get; set; } = null!;

        public AccessListApiKeyArgs()
        {
        }
        public static new AccessListApiKeyArgs Empty => new AccessListApiKeyArgs();
    }

    public sealed class AccessListApiKeyState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Unique identifier for the Organization API Key for which you want to create a new access list entry.
        /// 
        /// &gt; **NOTE:** One of the following attributes must set: `CidrBlock`  or `IpAddress` but not both.
        /// </summary>
        [Input("apiKeyId")]
        public Input<string>? ApiKeyId { get; set; }

        /// <summary>
        /// Range of IP addresses in CIDR notation to be added to the access list. Your access list entry can include only one `cidrBlock`, or one `ipAddress`.
        /// </summary>
        [Input("cidrBlock")]
        public Input<string>? CidrBlock { get; set; }

        /// <summary>
        /// Single IP address to be added to the access list.
        /// </summary>
        [Input("ipAddress")]
        public Input<string>? IpAddress { get; set; }

        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        /// </summary>
        [Input("orgId")]
        public Input<string>? OrgId { get; set; }

        public AccessListApiKeyState()
        {
        }
        public static new AccessListApiKeyState Empty => new AccessListApiKeyState();
    }
}
