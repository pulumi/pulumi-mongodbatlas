// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Mongodbatlas
{
    /// <summary>
    /// `mongodbatlas..EncryptionAtRest` Allows management of encryption at rest for an Atlas project with one of the following providers:
    /// 
    /// [Amazon Web Services Key Management Service](https://docs.atlas.mongodb.com/security-aws-kms/#security-aws-kms)
    /// [Azure Key Vault](https://docs.atlas.mongodb.com/security-azure-kms/#security-azure-kms)
    /// [Google Cloud KMS](https://docs.atlas.mongodb.com/security-gcp-kms/#security-gcp-kms)
    /// 
    /// After configuring at least one Encryption at Rest provider for the Atlas project, Project Owners can enable Encryption at Rest for each Atlas cluster for which they require encryption. The Encryption at Rest provider does not have to match the cluster cloud service provider.
    /// 
    /// Atlas does not automatically rotate user-managed encryption keys. Defer to your preferred Encryption at Rest providerâ€™s documentation and guidance for best practices on key rotation. Atlas automatically creates a 365-day key rotation alert when you configure Encryption at Rest using your Key Management in an Atlas project.
    /// 
    /// See [Encryption at Rest](https://docs.atlas.mongodb.com/security-kms-encryption/index.html) for more information, including prerequisites and restrictions.
    /// 
    /// &gt; **IMPORTANT** Atlas encrypts all cluster storage and snapshot volumes, securing all cluster data on disk: a concept known as encryption at rest, by default.
    /// 
    /// &gt; **NOTE:** Groups and projects are synonymous terms. You may find `groupId` in the official documentation.
    /// 
    /// ## Example Usage
    /// 
    /// 
    /// 
    /// ```csharp
    /// using Pulumi;
    /// using Mongodbatlas = Pulumi.Mongodbatlas;
    /// 
    /// class MyStack : Stack
    /// {
    ///     public MyStack()
    ///     {
    ///         var test = new Mongodbatlas.EncryptionAtRest("test", new Mongodbatlas.EncryptionAtRestArgs
    ///         {
    ///             AwsKms = new Mongodbatlas.Inputs.EncryptionAtRestAwsKmsArgs
    ///             {
    ///                 Access_key_id = "AKIAIOSFODNN7EXAMPLE",
    ///                 Customer_master_key_id = "030gce02-586d-48d2-a966-05ea954fde0g",
    ///                 Enabled = true,
    ///                 Region = "US_EAST_1",
    ///                 Secret_access_key = "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",
    ///             },
    ///             AzureKeyVault = new Mongodbatlas.Inputs.EncryptionAtRestAzureKeyVaultArgs
    ///             {
    ///                 Azure_environment = "AZURE",
    ///                 Client_id = "g54f9e2-89e3-40fd-8188-EXAMPLEID",
    ///                 Enabled = true,
    ///                 Key_identifier = "https://EXAMPLEKeyVault.vault.azure.net/keys/EXAMPLEKey/d891821e3d364e9eb88fbd3d11807b86",
    ///                 Key_vault_name = "EXAMPLEKeyVault",
    ///                 Resource_group_name = "ExampleRGName",
    ///                 Secret = "EXAMPLESECRET",
    ///                 Subscription_id = "0ec944e3-g725-44f9-a147-EXAMPLEID",
    ///                 Tenant_id = "e8e4b6ba-ff32-4c88-a9af-EXAMPLEID",
    ///             },
    ///             GoogleCloudKms = new Mongodbatlas.Inputs.EncryptionAtRestGoogleCloudKmsArgs
    ///             {
    ///                 Enabled = true,
    ///                 Key_version_resource_id = "projects/my-project-common-0/locations/us-east4/keyRings/my-key-ring-0/cryptoKeys/my-key-0/cryptoKeyVersions/1",
    ///                 Service_account_key = "{\"type\": \"service_account\",\"project_id\": \"my-project-common-0\",\"private_key_id\": \"e120598ea4f88249469fcdd75a9a785c1bb3\",\"private_key\": \"-----BEGIN PRIVATE KEY-----\\nMIIEuwIBA(truncated)SfecnS0mT94D9\\n-----END PRIVATE KEY-----\\n\",\"client_email\": \"my-email-kms-0@my-project-common-0.iam.gserviceaccount.com\",\"client_id\": \"10180967717292066\",\"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\"token_uri\": \"https://accounts.google.com/o/oauth2/token\",\"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/my-email-kms-0%40my-project-common-0.iam.gserviceaccount.com\"}",
    ///             },
    ///             ProjectId = "&lt;PROJECT-ID&gt;",
    ///         });
    ///     }
    /// 
    /// }
    /// ```
    /// </summary>
    public partial class EncryptionAtRest : Pulumi.CustomResource
    {
        /// <summary>
        /// Specifies AWS KMS configuration details and whether Encryption at Rest is enabled for an Atlas project.
        /// </summary>
        [Output("awsKms")]
        public Output<Outputs.EncryptionAtRestAwsKms?> AwsKms { get; private set; } = null!;

        /// <summary>
        /// Specifies Azure Key Vault configuration details and whether Encryption at Rest is enabled for an Atlas project.
        /// </summary>
        [Output("azureKeyVault")]
        public Output<Outputs.EncryptionAtRestAzureKeyVault?> AzureKeyVault { get; private set; } = null!;

        /// <summary>
        /// Specifies GCP KMS configuration details and whether Encryption at Rest is enabled for an Atlas project.
        /// </summary>
        [Output("googleCloudKms")]
        public Output<Outputs.EncryptionAtRestGoogleCloudKms?> GoogleCloudKms { get; private set; } = null!;

        /// <summary>
        /// The unique identifier for the project.
        /// </summary>
        [Output("projectId")]
        public Output<string> ProjectId { get; private set; } = null!;


        /// <summary>
        /// Create a EncryptionAtRest resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public EncryptionAtRest(string name, EncryptionAtRestArgs args, CustomResourceOptions? options = null)
            : base("mongodbatlas:index/encryptionAtRest:EncryptionAtRest", name, args ?? new EncryptionAtRestArgs(), MakeResourceOptions(options, ""))
        {
        }

        private EncryptionAtRest(string name, Input<string> id, EncryptionAtRestState? state = null, CustomResourceOptions? options = null)
            : base("mongodbatlas:index/encryptionAtRest:EncryptionAtRest", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing EncryptionAtRest resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static EncryptionAtRest Get(string name, Input<string> id, EncryptionAtRestState? state = null, CustomResourceOptions? options = null)
        {
            return new EncryptionAtRest(name, id, state, options);
        }
    }

    public sealed class EncryptionAtRestArgs : Pulumi.ResourceArgs
    {
        /// <summary>
        /// Specifies AWS KMS configuration details and whether Encryption at Rest is enabled for an Atlas project.
        /// </summary>
        [Input("awsKms")]
        public Input<Inputs.EncryptionAtRestAwsKmsArgs>? AwsKms { get; set; }

        /// <summary>
        /// Specifies Azure Key Vault configuration details and whether Encryption at Rest is enabled for an Atlas project.
        /// </summary>
        [Input("azureKeyVault")]
        public Input<Inputs.EncryptionAtRestAzureKeyVaultArgs>? AzureKeyVault { get; set; }

        /// <summary>
        /// Specifies GCP KMS configuration details and whether Encryption at Rest is enabled for an Atlas project.
        /// </summary>
        [Input("googleCloudKms")]
        public Input<Inputs.EncryptionAtRestGoogleCloudKmsArgs>? GoogleCloudKms { get; set; }

        /// <summary>
        /// The unique identifier for the project.
        /// </summary>
        [Input("projectId", required: true)]
        public Input<string> ProjectId { get; set; } = null!;

        public EncryptionAtRestArgs()
        {
        }
    }

    public sealed class EncryptionAtRestState : Pulumi.ResourceArgs
    {
        /// <summary>
        /// Specifies AWS KMS configuration details and whether Encryption at Rest is enabled for an Atlas project.
        /// </summary>
        [Input("awsKms")]
        public Input<Inputs.EncryptionAtRestAwsKmsGetArgs>? AwsKms { get; set; }

        /// <summary>
        /// Specifies Azure Key Vault configuration details and whether Encryption at Rest is enabled for an Atlas project.
        /// </summary>
        [Input("azureKeyVault")]
        public Input<Inputs.EncryptionAtRestAzureKeyVaultGetArgs>? AzureKeyVault { get; set; }

        /// <summary>
        /// Specifies GCP KMS configuration details and whether Encryption at Rest is enabled for an Atlas project.
        /// </summary>
        [Input("googleCloudKms")]
        public Input<Inputs.EncryptionAtRestGoogleCloudKmsGetArgs>? GoogleCloudKms { get; set; }

        /// <summary>
        /// The unique identifier for the project.
        /// </summary>
        [Input("projectId")]
        public Input<string>? ProjectId { get; set; }

        public EncryptionAtRestState()
        {
        }
    }
}
