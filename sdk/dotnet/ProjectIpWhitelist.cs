// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Mongodbatlas
{
    /// <summary>
    /// `mongodbatlas.ProjectIpWhitelist` provides an IP Whitelist entry resource. The whitelist grants access from IPs, CIDRs or AWS Security Groups (if VPC Peering is enabled) to clusters within the Project.
    /// 
    /// &gt; **NOTE:** Groups and projects are synonymous terms. You may find `groupId` in the official documentation.
    /// 
    /// &gt; **IMPORTANT:**
    /// When you remove an entry from the whitelist, existing connections from the removed address(es) may remain open for a variable amount of time. How much time passes before Atlas closes the connection depends on several factors, including how the connection was established, the particular behavior of the application or driver using the address, and the connection protocol (e.g., TCP or UDP). This is particularly important to consider when changing an existing IP address or CIDR block as they cannot be updated via the Provider (comments can however), hence a change will force the destruction and recreation of entries.
    /// 
    /// ## Example Usage
    /// ### Using CIDR Block
    /// ```csharp
    /// using Pulumi;
    /// using Mongodbatlas = Pulumi.Mongodbatlas;
    /// 
    /// class MyStack : Stack
    /// {
    ///     public MyStack()
    ///     {
    ///         var test = new Mongodbatlas.ProjectIpWhitelist("test", new Mongodbatlas.ProjectIpWhitelistArgs
    ///         {
    ///             CidrBlock = "1.2.3.4/32",
    ///             Comment = "cidr block for tf acc testing",
    ///             ProjectId = "&lt;PROJECT-ID&gt;",
    ///         });
    ///     }
    /// 
    /// }
    /// ```
    /// ### Using IP Address
    /// ```csharp
    /// using Pulumi;
    /// using Mongodbatlas = Pulumi.Mongodbatlas;
    /// 
    /// class MyStack : Stack
    /// {
    ///     public MyStack()
    ///     {
    ///         var test = new Mongodbatlas.ProjectIpWhitelist("test", new Mongodbatlas.ProjectIpWhitelistArgs
    ///         {
    ///             Comment = "ip address for tf acc testing",
    ///             IpAddress = "2.3.4.5",
    ///             ProjectId = "&lt;PROJECT-ID&gt;",
    ///         });
    ///     }
    /// 
    /// }
    /// ```
    /// ### Using an AWS Security Group
    /// ```csharp
    /// using Pulumi;
    /// using Mongodbatlas = Pulumi.Mongodbatlas;
    /// 
    /// class MyStack : Stack
    /// {
    ///     public MyStack()
    ///     {
    ///         var testNetworkContainer = new Mongodbatlas.NetworkContainer("testNetworkContainer", new Mongodbatlas.NetworkContainerArgs
    ///         {
    ///             ProjectId = "&lt;PROJECT-ID&gt;",
    ///             AtlasCidrBlock = "192.168.208.0/21",
    ///             ProviderName = "AWS",
    ///             RegionName = "US_EAST_1",
    ///         });
    ///         var testNetworkPeering = new Mongodbatlas.NetworkPeering("testNetworkPeering", new Mongodbatlas.NetworkPeeringArgs
    ///         {
    ///             ProjectId = "&lt;PROJECT-ID&gt;",
    ///             ContainerId = testNetworkContainer.ContainerId,
    ///             AccepterRegionName = "us-east-1",
    ///             ProviderName = "AWS",
    ///             RouteTableCidrBlock = "172.31.0.0/16",
    ///             VpcId = "vpc-0d93d6f69f1578bd8",
    ///             AwsAccountId = "232589400519",
    ///         });
    ///         var testProjectIpWhitelist = new Mongodbatlas.ProjectIpWhitelist("testProjectIpWhitelist", new Mongodbatlas.ProjectIpWhitelistArgs
    ///         {
    ///             ProjectId = "&lt;PROJECT-ID&gt;",
    ///             AwsSecurityGroup = "sg-0026348ec11780bd1",
    ///             Comment = "TestAcc for awsSecurityGroup",
    ///         }, new CustomResourceOptions
    ///         {
    ///             DependsOn = 
    ///             {
    ///                 "mongodbatlas_network_peering.test",
    ///             },
    ///         });
    ///     }
    /// 
    /// }
    /// ```
    /// 
    /// &gt; **IMPORTANT:** In order to use AWS Security Group(s) VPC Peering must be enabled like above example.
    /// </summary>
    public partial class ProjectIpWhitelist : Pulumi.CustomResource
    {
        /// <summary>
        /// ID of the whitelisted AWS security group. Mutually exclusive with `cidr_block` and `ip_address`.
        /// </summary>
        [Output("awsSecurityGroup")]
        public Output<string> AwsSecurityGroup { get; private set; } = null!;

        /// <summary>
        /// Whitelist entry in Classless Inter-Domain Routing (CIDR) notation. Mutually exclusive with `aws_security_group` and `ip_address`.
        /// </summary>
        [Output("cidrBlock")]
        public Output<string> CidrBlock { get; private set; } = null!;

        /// <summary>
        /// Comment to add to the whitelist entry.
        /// </summary>
        [Output("comment")]
        public Output<string> Comment { get; private set; } = null!;

        /// <summary>
        /// Whitelisted IP address. Mutually exclusive with `aws_security_group` and `cidr_block`.
        /// </summary>
        [Output("ipAddress")]
        public Output<string> IpAddress { get; private set; } = null!;

        /// <summary>
        /// The ID of the project in which to add the whitelist entry.
        /// </summary>
        [Output("projectId")]
        public Output<string> ProjectId { get; private set; } = null!;


        /// <summary>
        /// Create a ProjectIpWhitelist resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public ProjectIpWhitelist(string name, ProjectIpWhitelistArgs args, CustomResourceOptions? options = null)
            : base("mongodbatlas:index/projectIpWhitelist:ProjectIpWhitelist", name, args ?? new ProjectIpWhitelistArgs(), MakeResourceOptions(options, ""))
        {
        }

        private ProjectIpWhitelist(string name, Input<string> id, ProjectIpWhitelistState? state = null, CustomResourceOptions? options = null)
            : base("mongodbatlas:index/projectIpWhitelist:ProjectIpWhitelist", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing ProjectIpWhitelist resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static ProjectIpWhitelist Get(string name, Input<string> id, ProjectIpWhitelistState? state = null, CustomResourceOptions? options = null)
        {
            return new ProjectIpWhitelist(name, id, state, options);
        }
    }

    public sealed class ProjectIpWhitelistArgs : Pulumi.ResourceArgs
    {
        /// <summary>
        /// ID of the whitelisted AWS security group. Mutually exclusive with `cidr_block` and `ip_address`.
        /// </summary>
        [Input("awsSecurityGroup")]
        public Input<string>? AwsSecurityGroup { get; set; }

        /// <summary>
        /// Whitelist entry in Classless Inter-Domain Routing (CIDR) notation. Mutually exclusive with `aws_security_group` and `ip_address`.
        /// </summary>
        [Input("cidrBlock")]
        public Input<string>? CidrBlock { get; set; }

        /// <summary>
        /// Comment to add to the whitelist entry.
        /// </summary>
        [Input("comment")]
        public Input<string>? Comment { get; set; }

        /// <summary>
        /// Whitelisted IP address. Mutually exclusive with `aws_security_group` and `cidr_block`.
        /// </summary>
        [Input("ipAddress")]
        public Input<string>? IpAddress { get; set; }

        /// <summary>
        /// The ID of the project in which to add the whitelist entry.
        /// </summary>
        [Input("projectId", required: true)]
        public Input<string> ProjectId { get; set; } = null!;

        public ProjectIpWhitelistArgs()
        {
        }
    }

    public sealed class ProjectIpWhitelistState : Pulumi.ResourceArgs
    {
        /// <summary>
        /// ID of the whitelisted AWS security group. Mutually exclusive with `cidr_block` and `ip_address`.
        /// </summary>
        [Input("awsSecurityGroup")]
        public Input<string>? AwsSecurityGroup { get; set; }

        /// <summary>
        /// Whitelist entry in Classless Inter-Domain Routing (CIDR) notation. Mutually exclusive with `aws_security_group` and `ip_address`.
        /// </summary>
        [Input("cidrBlock")]
        public Input<string>? CidrBlock { get; set; }

        /// <summary>
        /// Comment to add to the whitelist entry.
        /// </summary>
        [Input("comment")]
        public Input<string>? Comment { get; set; }

        /// <summary>
        /// Whitelisted IP address. Mutually exclusive with `aws_security_group` and `cidr_block`.
        /// </summary>
        [Input("ipAddress")]
        public Input<string>? IpAddress { get; set; }

        /// <summary>
        /// The ID of the project in which to add the whitelist entry.
        /// </summary>
        [Input("projectId")]
        public Input<string>? ProjectId { get; set; }

        public ProjectIpWhitelistState()
        {
        }
    }
}
