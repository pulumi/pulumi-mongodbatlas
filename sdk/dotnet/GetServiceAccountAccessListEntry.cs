// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Mongodbatlas
{
    public static class GetServiceAccountAccessListEntry
    {
        /// <summary>
        /// `mongodbatlas.ServiceAccountAccessListEntry` returns an Access List entry for the specified Service Account.
        /// 
        /// &gt; **IMPORTANT:** When you remove an entry from the access list, existing connections from the removed address(es) may remain open for a variable amount of time. How much time passes before Atlas closes the connection depends on several factors, including how the connection was established, the particular behavior of the application or driver using the address, and the connection protocol (e.g., TCP or UDP). This is particularly important to consider when changing an existing IP address or CIDR block as they cannot be updated via the Provider, hence a change will force the destruction and recreation of entries.
        /// 
        /// &gt; **IMPORTANT WARNING:** Managing Service Accounts with Terraform **exposes sensitive organizational secrets** in Terraform's state. We suggest following Terraform's best practices.
        /// 
        /// ## Example Usage
        /// 
        /// ### S
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using Mongodbatlas = Pulumi.Mongodbatlas;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     var thisServiceAccount = new Mongodbatlas.ServiceAccount("this", new()
        ///     {
        ///         OrgId = orgId,
        ///         Name = "example-service-account",
        ///         Description = "Example Service Account",
        ///         Roles = new[]
        ///         {
        ///             "ORG_READ_ONLY",
        ///         },
        ///         SecretExpiresAfterHours = 2160,
        ///     });
        /// 
        ///     // Add IP Access List Entry to Service Account using CIDR Block
        ///     var cidr = new Mongodbatlas.ServiceAccountAccessListEntry("cidr", new()
        ///     {
        ///         OrgId = orgId,
        ///         ClientId = thisServiceAccount.ClientId,
        ///         CidrBlock = "1.2.3.4/32",
        ///     });
        /// 
        ///     // Add IP Access List Entry to Service Account using IP Address
        ///     var ip = new Mongodbatlas.ServiceAccountAccessListEntry("ip", new()
        ///     {
        ///         OrgId = orgId,
        ///         ClientId = thisServiceAccount.ClientId,
        ///         IpAddress = "2.3.4.5",
        ///     });
        /// 
        ///     // Data source to read a single Access List entry for the Service Account
        ///     var @this = Mongodbatlas.GetServiceAccountAccessListEntry.Invoke(new()
        ///     {
        ///         OrgId = cidr.OrgId,
        ///         ClientId = cidr.ClientId,
        ///         CidrBlock = cidr.CidrBlock,
        ///     });
        /// 
        ///     // Data source to read all Access List entries for the Service Account
        ///     var thisGetServiceAccountAccessListEntries = Mongodbatlas.GetServiceAccountAccessListEntries.Invoke(new()
        ///     {
        ///         OrgId = thisServiceAccount.OrgId,
        ///         ClientId = thisServiceAccount.ClientId,
        ///     });
        /// 
        ///     return new Dictionary&lt;string, object?&gt;
        ///     {
        ///         ["accessListEntryCidrBlock"] = @this.Apply(@this =&gt; @this.Apply(getServiceAccountAccessListEntryResult =&gt; getServiceAccountAccessListEntryResult.CidrBlock)),
        ///         ["allAccessListEntries"] = thisGetServiceAccountAccessListEntries.Apply(getServiceAccountAccessListEntriesResult =&gt; getServiceAccountAccessListEntriesResult.Results),
        ///     };
        /// });
        /// ```
        /// </summary>
        public static Task<GetServiceAccountAccessListEntryResult> InvokeAsync(GetServiceAccountAccessListEntryArgs args, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.InvokeAsync<GetServiceAccountAccessListEntryResult>("mongodbatlas:index/getServiceAccountAccessListEntry:getServiceAccountAccessListEntry", args ?? new GetServiceAccountAccessListEntryArgs(), options.WithDefaults());

        /// <summary>
        /// `mongodbatlas.ServiceAccountAccessListEntry` returns an Access List entry for the specified Service Account.
        /// 
        /// &gt; **IMPORTANT:** When you remove an entry from the access list, existing connections from the removed address(es) may remain open for a variable amount of time. How much time passes before Atlas closes the connection depends on several factors, including how the connection was established, the particular behavior of the application or driver using the address, and the connection protocol (e.g., TCP or UDP). This is particularly important to consider when changing an existing IP address or CIDR block as they cannot be updated via the Provider, hence a change will force the destruction and recreation of entries.
        /// 
        /// &gt; **IMPORTANT WARNING:** Managing Service Accounts with Terraform **exposes sensitive organizational secrets** in Terraform's state. We suggest following Terraform's best practices.
        /// 
        /// ## Example Usage
        /// 
        /// ### S
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using Mongodbatlas = Pulumi.Mongodbatlas;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     var thisServiceAccount = new Mongodbatlas.ServiceAccount("this", new()
        ///     {
        ///         OrgId = orgId,
        ///         Name = "example-service-account",
        ///         Description = "Example Service Account",
        ///         Roles = new[]
        ///         {
        ///             "ORG_READ_ONLY",
        ///         },
        ///         SecretExpiresAfterHours = 2160,
        ///     });
        /// 
        ///     // Add IP Access List Entry to Service Account using CIDR Block
        ///     var cidr = new Mongodbatlas.ServiceAccountAccessListEntry("cidr", new()
        ///     {
        ///         OrgId = orgId,
        ///         ClientId = thisServiceAccount.ClientId,
        ///         CidrBlock = "1.2.3.4/32",
        ///     });
        /// 
        ///     // Add IP Access List Entry to Service Account using IP Address
        ///     var ip = new Mongodbatlas.ServiceAccountAccessListEntry("ip", new()
        ///     {
        ///         OrgId = orgId,
        ///         ClientId = thisServiceAccount.ClientId,
        ///         IpAddress = "2.3.4.5",
        ///     });
        /// 
        ///     // Data source to read a single Access List entry for the Service Account
        ///     var @this = Mongodbatlas.GetServiceAccountAccessListEntry.Invoke(new()
        ///     {
        ///         OrgId = cidr.OrgId,
        ///         ClientId = cidr.ClientId,
        ///         CidrBlock = cidr.CidrBlock,
        ///     });
        /// 
        ///     // Data source to read all Access List entries for the Service Account
        ///     var thisGetServiceAccountAccessListEntries = Mongodbatlas.GetServiceAccountAccessListEntries.Invoke(new()
        ///     {
        ///         OrgId = thisServiceAccount.OrgId,
        ///         ClientId = thisServiceAccount.ClientId,
        ///     });
        /// 
        ///     return new Dictionary&lt;string, object?&gt;
        ///     {
        ///         ["accessListEntryCidrBlock"] = @this.Apply(@this =&gt; @this.Apply(getServiceAccountAccessListEntryResult =&gt; getServiceAccountAccessListEntryResult.CidrBlock)),
        ///         ["allAccessListEntries"] = thisGetServiceAccountAccessListEntries.Apply(getServiceAccountAccessListEntriesResult =&gt; getServiceAccountAccessListEntriesResult.Results),
        ///     };
        /// });
        /// ```
        /// </summary>
        public static Output<GetServiceAccountAccessListEntryResult> Invoke(GetServiceAccountAccessListEntryInvokeArgs args, InvokeOptions? options = null)
            => global::Pulumi.Deployment.Instance.Invoke<GetServiceAccountAccessListEntryResult>("mongodbatlas:index/getServiceAccountAccessListEntry:getServiceAccountAccessListEntry", args ?? new GetServiceAccountAccessListEntryInvokeArgs(), options.WithDefaults());

        /// <summary>
        /// `mongodbatlas.ServiceAccountAccessListEntry` returns an Access List entry for the specified Service Account.
        /// 
        /// &gt; **IMPORTANT:** When you remove an entry from the access list, existing connections from the removed address(es) may remain open for a variable amount of time. How much time passes before Atlas closes the connection depends on several factors, including how the connection was established, the particular behavior of the application or driver using the address, and the connection protocol (e.g., TCP or UDP). This is particularly important to consider when changing an existing IP address or CIDR block as they cannot be updated via the Provider, hence a change will force the destruction and recreation of entries.
        /// 
        /// &gt; **IMPORTANT WARNING:** Managing Service Accounts with Terraform **exposes sensitive organizational secrets** in Terraform's state. We suggest following Terraform's best practices.
        /// 
        /// ## Example Usage
        /// 
        /// ### S
        /// 
        /// ```csharp
        /// using System.Collections.Generic;
        /// using System.Linq;
        /// using Pulumi;
        /// using Mongodbatlas = Pulumi.Mongodbatlas;
        /// 
        /// return await Deployment.RunAsync(() =&gt; 
        /// {
        ///     var thisServiceAccount = new Mongodbatlas.ServiceAccount("this", new()
        ///     {
        ///         OrgId = orgId,
        ///         Name = "example-service-account",
        ///         Description = "Example Service Account",
        ///         Roles = new[]
        ///         {
        ///             "ORG_READ_ONLY",
        ///         },
        ///         SecretExpiresAfterHours = 2160,
        ///     });
        /// 
        ///     // Add IP Access List Entry to Service Account using CIDR Block
        ///     var cidr = new Mongodbatlas.ServiceAccountAccessListEntry("cidr", new()
        ///     {
        ///         OrgId = orgId,
        ///         ClientId = thisServiceAccount.ClientId,
        ///         CidrBlock = "1.2.3.4/32",
        ///     });
        /// 
        ///     // Add IP Access List Entry to Service Account using IP Address
        ///     var ip = new Mongodbatlas.ServiceAccountAccessListEntry("ip", new()
        ///     {
        ///         OrgId = orgId,
        ///         ClientId = thisServiceAccount.ClientId,
        ///         IpAddress = "2.3.4.5",
        ///     });
        /// 
        ///     // Data source to read a single Access List entry for the Service Account
        ///     var @this = Mongodbatlas.GetServiceAccountAccessListEntry.Invoke(new()
        ///     {
        ///         OrgId = cidr.OrgId,
        ///         ClientId = cidr.ClientId,
        ///         CidrBlock = cidr.CidrBlock,
        ///     });
        /// 
        ///     // Data source to read all Access List entries for the Service Account
        ///     var thisGetServiceAccountAccessListEntries = Mongodbatlas.GetServiceAccountAccessListEntries.Invoke(new()
        ///     {
        ///         OrgId = thisServiceAccount.OrgId,
        ///         ClientId = thisServiceAccount.ClientId,
        ///     });
        /// 
        ///     return new Dictionary&lt;string, object?&gt;
        ///     {
        ///         ["accessListEntryCidrBlock"] = @this.Apply(@this =&gt; @this.Apply(getServiceAccountAccessListEntryResult =&gt; getServiceAccountAccessListEntryResult.CidrBlock)),
        ///         ["allAccessListEntries"] = thisGetServiceAccountAccessListEntries.Apply(getServiceAccountAccessListEntriesResult =&gt; getServiceAccountAccessListEntriesResult.Results),
        ///     };
        /// });
        /// ```
        /// </summary>
        public static Output<GetServiceAccountAccessListEntryResult> Invoke(GetServiceAccountAccessListEntryInvokeArgs args, InvokeOutputOptions options)
            => global::Pulumi.Deployment.Instance.Invoke<GetServiceAccountAccessListEntryResult>("mongodbatlas:index/getServiceAccountAccessListEntry:getServiceAccountAccessListEntry", args ?? new GetServiceAccountAccessListEntryInvokeArgs(), options.WithDefaults());
    }


    public sealed class GetServiceAccountAccessListEntryArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// Range of IP addresses in CIDR notation to be added to the access list. You can set a value for this parameter or **ip_address**, but not for both.
        /// </summary>
        [Input("cidrBlock")]
        public string? CidrBlock { get; set; }

        /// <summary>
        /// The Client ID of the Service Account.
        /// </summary>
        [Input("clientId", required: true)]
        public string ClientId { get; set; } = null!;

        /// <summary>
        /// IP address to be added to the access list. You can set a value for this parameter or **cidr_block**, but not for both.
        /// </summary>
        [Input("ipAddress")]
        public string? IpAddress { get; set; }

        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        /// </summary>
        [Input("orgId", required: true)]
        public string OrgId { get; set; } = null!;

        public GetServiceAccountAccessListEntryArgs()
        {
        }
        public static new GetServiceAccountAccessListEntryArgs Empty => new GetServiceAccountAccessListEntryArgs();
    }

    public sealed class GetServiceAccountAccessListEntryInvokeArgs : global::Pulumi.InvokeArgs
    {
        /// <summary>
        /// Range of IP addresses in CIDR notation to be added to the access list. You can set a value for this parameter or **ip_address**, but not for both.
        /// </summary>
        [Input("cidrBlock")]
        public Input<string>? CidrBlock { get; set; }

        /// <summary>
        /// The Client ID of the Service Account.
        /// </summary>
        [Input("clientId", required: true)]
        public Input<string> ClientId { get; set; } = null!;

        /// <summary>
        /// IP address to be added to the access list. You can set a value for this parameter or **cidr_block**, but not for both.
        /// </summary>
        [Input("ipAddress")]
        public Input<string>? IpAddress { get; set; }

        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        /// </summary>
        [Input("orgId", required: true)]
        public Input<string> OrgId { get; set; } = null!;

        public GetServiceAccountAccessListEntryInvokeArgs()
        {
        }
        public static new GetServiceAccountAccessListEntryInvokeArgs Empty => new GetServiceAccountAccessListEntryInvokeArgs();
    }


    [OutputType]
    public sealed class GetServiceAccountAccessListEntryResult
    {
        /// <summary>
        /// Range of IP addresses in CIDR notation to be added to the access list. You can set a value for this parameter or **ip_address**, but not for both.
        /// </summary>
        public readonly string CidrBlock;
        /// <summary>
        /// The Client ID of the Service Account.
        /// </summary>
        public readonly string ClientId;
        /// <summary>
        /// Date the entry was added to the access list. This attribute expresses its value in the ISO 8601 timestamp format in UTC.
        /// </summary>
        public readonly string CreatedAt;
        /// <summary>
        /// The provider-assigned unique ID for this managed resource.
        /// </summary>
        public readonly string Id;
        /// <summary>
        /// IP address to be added to the access list. You can set a value for this parameter or **cidr_block**, but not for both.
        /// </summary>
        public readonly string IpAddress;
        /// <summary>
        /// Network address that issued the most recent request to the API.
        /// </summary>
        public readonly string LastUsedAddress;
        /// <summary>
        /// Date when the API received the most recent request that originated from this network address.
        /// </summary>
        public readonly string LastUsedAt;
        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
        /// </summary>
        public readonly string OrgId;
        /// <summary>
        /// The number of requests that has originated from this network address.
        /// </summary>
        public readonly int RequestCount;

        [OutputConstructor]
        private GetServiceAccountAccessListEntryResult(
            string cidrBlock,

            string clientId,

            string createdAt,

            string id,

            string ipAddress,

            string lastUsedAddress,

            string lastUsedAt,

            string orgId,

            int requestCount)
        {
            CidrBlock = cidrBlock;
            ClientId = clientId;
            CreatedAt = createdAt;
            Id = id;
            IpAddress = ipAddress;
            LastUsedAddress = lastUsedAddress;
            LastUsedAt = lastUsedAt;
            OrgId = orgId;
            RequestCount = requestCount;
        }
    }
}
