// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Mongodbatlas
{
    /// <summary>
    /// ## Example Usage
    /// 
    /// ### S
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Mongodbatlas = Pulumi.Mongodbatlas;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var thisProjectServiceAccount = new Mongodbatlas.ProjectServiceAccount("this", new()
    ///     {
    ///         ProjectId = projectId,
    ///         Name = "example-project-service-account",
    ///         Description = "Example Project Service Account",
    ///         Roles = new[]
    ///         {
    ///             "GROUP_READ_ONLY",
    ///         },
    ///         SecretExpiresAfterHours = 2160,
    ///     });
    /// 
    ///     var thisProjectServiceAccountSecret = new Mongodbatlas.ProjectServiceAccountSecret("this", new()
    ///     {
    ///         ProjectId = projectId,
    ///         ClientId = thisProjectServiceAccount.ClientId,
    ///         SecretExpiresAfterHours = 2160,
    ///     });
    /// 
    ///     var @this = Mongodbatlas.GetProjectServiceAccountSecret.Invoke(new()
    ///     {
    ///         ProjectId = projectId,
    ///         ClientId = thisProjectServiceAccount.ClientId,
    ///         SecretId = thisProjectServiceAccountSecret.SecretId,
    ///     });
    /// 
    ///     return new Dictionary&lt;string, object?&gt;
    ///     {
    ///         ["secretId"] = thisProjectServiceAccountSecret.SecretId,
    ///         ["secret"] = thisProjectServiceAccountSecret.Secret,
    ///         ["secretExpiresAt"] = @this.Apply(@this =&gt; @this.Apply(getProjectServiceAccountSecretResult =&gt; getProjectServiceAccountSecretResult.ExpiresAt)),
    ///     };
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// Import the Project Service Account Secret resource by using the Project ID, Client ID, and Secret ID in the format `PROJECT_ID/CLIENT_ID/SECRET_ID`, e.g.
    /// 
    /// ```sh
    /// $ pulumi import mongodbatlas:index/projectServiceAccountSecret:ProjectServiceAccountSecret test 6117ac2fe2a3d04ed27a987v/mdb_sa_id_1234567890abcdef12345678/04ed271234abcde2a3da123a
    /// ```
    /// For more information, see [Create One Project Service Account Secret](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-creategroupserviceaccountsecret) in the MongoDB Atlas API documentation.
    /// </summary>
    [MongodbatlasResourceType("mongodbatlas:index/projectServiceAccountSecret:ProjectServiceAccountSecret")]
    public partial class ProjectServiceAccountSecret : global::Pulumi.CustomResource
    {
        /// <summary>
        /// The Client ID of the Service Account.
        /// </summary>
        [Output("clientId")]
        public Output<string> ClientId { get; private set; } = null!;

        /// <summary>
        /// The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        /// </summary>
        [Output("createdAt")]
        public Output<string> CreatedAt { get; private set; } = null!;

        /// <summary>
        /// The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        /// </summary>
        [Output("expiresAt")]
        public Output<string> ExpiresAt { get; private set; } = null!;

        /// <summary>
        /// The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        /// </summary>
        [Output("lastUsedAt")]
        public Output<string> LastUsedAt { get; private set; } = null!;

        /// <summary>
        /// The masked Service Account secret.
        /// </summary>
        [Output("maskedSecretValue")]
        public Output<string> MaskedSecretValue { get; private set; } = null!;

        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies your project.
        /// </summary>
        [Output("projectId")]
        public Output<string> ProjectId { get; private set; } = null!;

        /// <summary>
        /// The secret for the Service Account. It will be returned only the first time after creation.
        /// </summary>
        [Output("secret")]
        public Output<string> Secret { get; private set; } = null!;

        /// <summary>
        /// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
        /// </summary>
        [Output("secretExpiresAfterHours")]
        public Output<int?> SecretExpiresAfterHours { get; private set; } = null!;

        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies the secret.
        /// </summary>
        [Output("secretId")]
        public Output<string> SecretId { get; private set; } = null!;


        /// <summary>
        /// Create a ProjectServiceAccountSecret resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public ProjectServiceAccountSecret(string name, ProjectServiceAccountSecretArgs args, CustomResourceOptions? options = null)
            : base("mongodbatlas:index/projectServiceAccountSecret:ProjectServiceAccountSecret", name, args ?? new ProjectServiceAccountSecretArgs(), MakeResourceOptions(options, ""))
        {
        }

        private ProjectServiceAccountSecret(string name, Input<string> id, ProjectServiceAccountSecretState? state = null, CustomResourceOptions? options = null)
            : base("mongodbatlas:index/projectServiceAccountSecret:ProjectServiceAccountSecret", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
                AdditionalSecretOutputs =
                {
                    "secret",
                },
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing ProjectServiceAccountSecret resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static ProjectServiceAccountSecret Get(string name, Input<string> id, ProjectServiceAccountSecretState? state = null, CustomResourceOptions? options = null)
        {
            return new ProjectServiceAccountSecret(name, id, state, options);
        }
    }

    public sealed class ProjectServiceAccountSecretArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The Client ID of the Service Account.
        /// </summary>
        [Input("clientId", required: true)]
        public Input<string> ClientId { get; set; } = null!;

        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies your project.
        /// </summary>
        [Input("projectId", required: true)]
        public Input<string> ProjectId { get; set; } = null!;

        /// <summary>
        /// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
        /// </summary>
        [Input("secretExpiresAfterHours")]
        public Input<int>? SecretExpiresAfterHours { get; set; }

        public ProjectServiceAccountSecretArgs()
        {
        }
        public static new ProjectServiceAccountSecretArgs Empty => new ProjectServiceAccountSecretArgs();
    }

    public sealed class ProjectServiceAccountSecretState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The Client ID of the Service Account.
        /// </summary>
        [Input("clientId")]
        public Input<string>? ClientId { get; set; }

        /// <summary>
        /// The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        /// </summary>
        [Input("createdAt")]
        public Input<string>? CreatedAt { get; set; }

        /// <summary>
        /// The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        /// </summary>
        [Input("expiresAt")]
        public Input<string>? ExpiresAt { get; set; }

        /// <summary>
        /// The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
        /// </summary>
        [Input("lastUsedAt")]
        public Input<string>? LastUsedAt { get; set; }

        /// <summary>
        /// The masked Service Account secret.
        /// </summary>
        [Input("maskedSecretValue")]
        public Input<string>? MaskedSecretValue { get; set; }

        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies your project.
        /// </summary>
        [Input("projectId")]
        public Input<string>? ProjectId { get; set; }

        [Input("secret")]
        private Input<string>? _secret;

        /// <summary>
        /// The secret for the Service Account. It will be returned only the first time after creation.
        /// </summary>
        public Input<string>? Secret
        {
            get => _secret;
            set
            {
                var emptySecret = Output.CreateSecret(0);
                _secret = Output.Tuple<Input<string>?, int>(value, emptySecret).Apply(t => t.Item1);
            }
        }

        /// <summary>
        /// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
        /// </summary>
        [Input("secretExpiresAfterHours")]
        public Input<int>? SecretExpiresAfterHours { get; set; }

        /// <summary>
        /// Unique 24-hexadecimal digit string that identifies the secret.
        /// </summary>
        [Input("secretId")]
        public Input<string>? SecretId { get; set; }

        public ProjectServiceAccountSecretState()
        {
        }
        public static new ProjectServiceAccountSecretState Empty => new ProjectServiceAccountSecretState();
    }
}
