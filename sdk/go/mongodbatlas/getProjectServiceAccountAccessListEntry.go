// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package mongodbatlas

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-mongodbatlas/sdk/v4/go/mongodbatlas/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// `ProjectServiceAccountAccessListEntry` returns an Access List entry for the specified Project Service Account.
//
// > **IMPORTANT:** When you remove an entry from the access list, existing connections from the removed address(es) may remain open for a variable amount of time. How much time passes before Atlas closes the connection depends on several factors, including how the connection was established, the particular behavior of the application or driver using the address, and the connection protocol (e.g., TCP or UDP). This is particularly important to consider when changing an existing IP address or CIDR block as they cannot be updated via the Provider, hence a change will force the destruction and recreation of entries.
//
// > **IMPORTANT WARNING:** Managing Service Accounts with Terraform **exposes sensitive organizational secrets** in Terraform's state. We suggest following Terraform's best practices.
//
// ## Example Usage
//
// ### S
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-mongodbatlas/sdk/v4/go/mongodbatlas"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			thisProjectServiceAccount, err := mongodbatlas.NewProjectServiceAccount(ctx, "this", &mongodbatlas.ProjectServiceAccountArgs{
//				ProjectId:   pulumi.Any(projectId),
//				Name:        pulumi.String("example-project-service-account"),
//				Description: pulumi.String("Example Project Service Account"),
//				Roles: pulumi.StringArray{
//					pulumi.String("GROUP_READ_ONLY"),
//				},
//				SecretExpiresAfterHours: pulumi.Int(2160),
//			})
//			if err != nil {
//				return err
//			}
//			// Add IP Access List Entry to Project Service Account using CIDR Block
//			cidr, err := mongodbatlas.NewProjectServiceAccountAccessListEntry(ctx, "cidr", &mongodbatlas.ProjectServiceAccountAccessListEntryArgs{
//				ProjectId: pulumi.Any(projectId),
//				ClientId:  thisProjectServiceAccount.ClientId,
//				CidrBlock: pulumi.String("1.2.3.4/32"),
//			})
//			if err != nil {
//				return err
//			}
//			// Add IP Access List Entry to Project Service Account using IP Address
//			_, err = mongodbatlas.NewProjectServiceAccountAccessListEntry(ctx, "ip", &mongodbatlas.ProjectServiceAccountAccessListEntryArgs{
//				ProjectId: pulumi.Any(projectId),
//				ClientId:  thisProjectServiceAccount.ClientId,
//				IpAddress: pulumi.String("2.3.4.5"),
//			})
//			if err != nil {
//				return err
//			}
//			// Data source to read a single Access List entry for the Project Service Account
//			this := mongodbatlas.LookupProjectServiceAccountAccessListEntryOutput(ctx, mongodbatlas.GetProjectServiceAccountAccessListEntryOutputArgs{
//				ProjectId: cidr.ProjectId,
//				ClientId:  cidr.ClientId,
//				CidrBlock: cidr.CidrBlock,
//			}, nil)
//			ctx.Export("accessListEntryCidrBlock", this.ApplyT(func(this mongodbatlas.GetProjectServiceAccountAccessListEntryResult) (*string, error) {
//				return &this.CidrBlock, nil
//			}).(pulumi.StringPtrOutput))
//			// Data source to read all Access List entries for the Project Service Account
//			thisGetProjectServiceAccountAccessListEntries := mongodbatlas.LookupProjectServiceAccountAccessListEntriesOutput(ctx, mongodbatlas.GetProjectServiceAccountAccessListEntriesOutputArgs{
//				ProjectId: thisProjectServiceAccount.ProjectId,
//				ClientId:  thisProjectServiceAccount.ClientId,
//			}, nil)
//			ctx.Export("allAccessListEntries", thisGetProjectServiceAccountAccessListEntries.ApplyT(func(thisGetProjectServiceAccountAccessListEntries mongodbatlas.GetProjectServiceAccountAccessListEntriesResult) ([]mongodbatlas.GetProjectServiceAccountAccessListEntriesResult, error) {
//				return []mongodbatlas.GetProjectServiceAccountAccessListEntriesResult(thisGetProjectServiceAccountAccessListEntries.Results), nil
//			}).([]mongodbatlas.GetProjectServiceAccountAccessListEntriesResultOutput))
//			return nil
//		})
//	}
//
// ```
func LookupProjectServiceAccountAccessListEntry(ctx *pulumi.Context, args *LookupProjectServiceAccountAccessListEntryArgs, opts ...pulumi.InvokeOption) (*LookupProjectServiceAccountAccessListEntryResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv LookupProjectServiceAccountAccessListEntryResult
	err := ctx.Invoke("mongodbatlas:index/getProjectServiceAccountAccessListEntry:getProjectServiceAccountAccessListEntry", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getProjectServiceAccountAccessListEntry.
type LookupProjectServiceAccountAccessListEntryArgs struct {
	// Range of IP addresses in CIDR notation to be added to the access list. You can set a value for this parameter or **ip_address**, but not for both.
	CidrBlock *string `pulumi:"cidrBlock"`
	// The Client ID of the Service Account.
	ClientId string `pulumi:"clientId"`
	// IP address to be added to the access list. You can set a value for this parameter or **cidr_block**, but not for both.
	IpAddress *string `pulumi:"ipAddress"`
	// Unique 24-hexadecimal digit string that identifies the project.
	ProjectId string `pulumi:"projectId"`
}

// A collection of values returned by getProjectServiceAccountAccessListEntry.
type LookupProjectServiceAccountAccessListEntryResult struct {
	// Range of IP addresses in CIDR notation to be added to the access list. You can set a value for this parameter or **ip_address**, but not for both.
	CidrBlock string `pulumi:"cidrBlock"`
	// The Client ID of the Service Account.
	ClientId string `pulumi:"clientId"`
	// Date the entry was added to the access list. This attribute expresses its value in the ISO 8601 timestamp format in UTC.
	CreatedAt string `pulumi:"createdAt"`
	// The provider-assigned unique ID for this managed resource.
	Id string `pulumi:"id"`
	// IP address to be added to the access list. You can set a value for this parameter or **cidr_block**, but not for both.
	IpAddress string `pulumi:"ipAddress"`
	// Network address that issued the most recent request to the API.
	LastUsedAddress string `pulumi:"lastUsedAddress"`
	// Date when the API received the most recent request that originated from this network address.
	LastUsedAt string `pulumi:"lastUsedAt"`
	// Unique 24-hexadecimal digit string that identifies the project.
	ProjectId string `pulumi:"projectId"`
	// The number of requests that has originated from this network address.
	RequestCount int `pulumi:"requestCount"`
}

func LookupProjectServiceAccountAccessListEntryOutput(ctx *pulumi.Context, args LookupProjectServiceAccountAccessListEntryOutputArgs, opts ...pulumi.InvokeOption) LookupProjectServiceAccountAccessListEntryResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (LookupProjectServiceAccountAccessListEntryResultOutput, error) {
			args := v.(LookupProjectServiceAccountAccessListEntryArgs)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("mongodbatlas:index/getProjectServiceAccountAccessListEntry:getProjectServiceAccountAccessListEntry", args, LookupProjectServiceAccountAccessListEntryResultOutput{}, options).(LookupProjectServiceAccountAccessListEntryResultOutput), nil
		}).(LookupProjectServiceAccountAccessListEntryResultOutput)
}

// A collection of arguments for invoking getProjectServiceAccountAccessListEntry.
type LookupProjectServiceAccountAccessListEntryOutputArgs struct {
	// Range of IP addresses in CIDR notation to be added to the access list. You can set a value for this parameter or **ip_address**, but not for both.
	CidrBlock pulumi.StringPtrInput `pulumi:"cidrBlock"`
	// The Client ID of the Service Account.
	ClientId pulumi.StringInput `pulumi:"clientId"`
	// IP address to be added to the access list. You can set a value for this parameter or **cidr_block**, but not for both.
	IpAddress pulumi.StringPtrInput `pulumi:"ipAddress"`
	// Unique 24-hexadecimal digit string that identifies the project.
	ProjectId pulumi.StringInput `pulumi:"projectId"`
}

func (LookupProjectServiceAccountAccessListEntryOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupProjectServiceAccountAccessListEntryArgs)(nil)).Elem()
}

// A collection of values returned by getProjectServiceAccountAccessListEntry.
type LookupProjectServiceAccountAccessListEntryResultOutput struct{ *pulumi.OutputState }

func (LookupProjectServiceAccountAccessListEntryResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupProjectServiceAccountAccessListEntryResult)(nil)).Elem()
}

func (o LookupProjectServiceAccountAccessListEntryResultOutput) ToLookupProjectServiceAccountAccessListEntryResultOutput() LookupProjectServiceAccountAccessListEntryResultOutput {
	return o
}

func (o LookupProjectServiceAccountAccessListEntryResultOutput) ToLookupProjectServiceAccountAccessListEntryResultOutputWithContext(ctx context.Context) LookupProjectServiceAccountAccessListEntryResultOutput {
	return o
}

// Range of IP addresses in CIDR notation to be added to the access list. You can set a value for this parameter or **ip_address**, but not for both.
func (o LookupProjectServiceAccountAccessListEntryResultOutput) CidrBlock() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectServiceAccountAccessListEntryResult) string { return v.CidrBlock }).(pulumi.StringOutput)
}

// The Client ID of the Service Account.
func (o LookupProjectServiceAccountAccessListEntryResultOutput) ClientId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectServiceAccountAccessListEntryResult) string { return v.ClientId }).(pulumi.StringOutput)
}

// Date the entry was added to the access list. This attribute expresses its value in the ISO 8601 timestamp format in UTC.
func (o LookupProjectServiceAccountAccessListEntryResultOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectServiceAccountAccessListEntryResult) string { return v.CreatedAt }).(pulumi.StringOutput)
}

// The provider-assigned unique ID for this managed resource.
func (o LookupProjectServiceAccountAccessListEntryResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectServiceAccountAccessListEntryResult) string { return v.Id }).(pulumi.StringOutput)
}

// IP address to be added to the access list. You can set a value for this parameter or **cidr_block**, but not for both.
func (o LookupProjectServiceAccountAccessListEntryResultOutput) IpAddress() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectServiceAccountAccessListEntryResult) string { return v.IpAddress }).(pulumi.StringOutput)
}

// Network address that issued the most recent request to the API.
func (o LookupProjectServiceAccountAccessListEntryResultOutput) LastUsedAddress() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectServiceAccountAccessListEntryResult) string { return v.LastUsedAddress }).(pulumi.StringOutput)
}

// Date when the API received the most recent request that originated from this network address.
func (o LookupProjectServiceAccountAccessListEntryResultOutput) LastUsedAt() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectServiceAccountAccessListEntryResult) string { return v.LastUsedAt }).(pulumi.StringOutput)
}

// Unique 24-hexadecimal digit string that identifies the project.
func (o LookupProjectServiceAccountAccessListEntryResultOutput) ProjectId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectServiceAccountAccessListEntryResult) string { return v.ProjectId }).(pulumi.StringOutput)
}

// The number of requests that has originated from this network address.
func (o LookupProjectServiceAccountAccessListEntryResultOutput) RequestCount() pulumi.IntOutput {
	return o.ApplyT(func(v LookupProjectServiceAccountAccessListEntryResult) int { return v.RequestCount }).(pulumi.IntOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupProjectServiceAccountAccessListEntryResultOutput{})
}
