// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package mongodbatlas

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-mongodbatlas/sdk/v4/go/mongodbatlas/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// `AccessListApiKey` describes an Access List API Key entry resource. The access list grants access from IPs or CIDRs to clusters within the Project.
//
// > **NOTE:** Groups and projects are synonymous terms. You may find `groupId` in the official documentation.
//
// > **IMPORTANT:**
// When you remove an entry from the access list, existing connections from the removed address(es) may remain open for a variable amount of time. How much time passes before Atlas closes the connection depends on several factors, including how the connection was established, the particular behavior of the application or driver using the address, and the connection protocol (e.g., TCP or UDP). This is particularly important to consider when changing an existing IP address or CIDR block as they cannot be updated via the Provider, hence a change will force the destruction and recreation of entries.
//
// > **IMPORTANT WARNING:** Managing Atlas Programmatic API Keys (PAKs) with Terraform will expose sensitive organizational secrets in Terraform's state. We suggest following Terraform's best practices. You may also want to consider managing your PAKs via a more secure method, such as the [HashiCorp Vault MongoDB Atlas Secrets Engine](https://developer.hashicorp.com/vault/docs/secrets/mongodbatlas).
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-mongodbatlas/sdk/v4/go/mongodbatlas"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			testAccessListApiKey, err := mongodbatlas.NewAccessListApiKey(ctx, "test", &mongodbatlas.AccessListApiKeyArgs{
//				OrgId:     pulumi.String("<ORG_ID>"),
//				IpAddress: pulumi.String("2.3.4.5"),
//				ApiKeyId:  pulumi.String("a29120e123cd"),
//			})
//			if err != nil {
//				return err
//			}
//			_ = mongodbatlas.LookupAccessListApiKeyOutput(ctx, mongodbatlas.GetAccessListApiKeyOutputArgs{
//				OrgId:     testAccessListApiKey.OrgId,
//				IpAddress: testAccessListApiKey.IpAddress,
//				ApiKeyId:  testAccessListApiKey.ApiKeyId,
//			}, nil)
//			return nil
//		})
//	}
//
// ```
func LookupAccessListApiKey(ctx *pulumi.Context, args *LookupAccessListApiKeyArgs, opts ...pulumi.InvokeOption) (*LookupAccessListApiKeyResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv LookupAccessListApiKeyResult
	err := ctx.Invoke("mongodbatlas:index/getAccessListApiKey:getAccessListApiKey", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getAccessListApiKey.
type LookupAccessListApiKeyArgs struct {
	// Unique identifier for the Organization API Key for which you want to retrieve an access list entry.
	ApiKeyId string `pulumi:"apiKeyId"`
	// IP address to retrieve from the access list.
	IpAddress string `pulumi:"ipAddress"`
	// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
	OrgId string `pulumi:"orgId"`
}

// A collection of values returned by getAccessListApiKey.
type LookupAccessListApiKeyResult struct {
	// Total number of requests that have originated from this IP address or CIDR block.
	AccessCount int    `pulumi:"accessCount"`
	ApiKeyId    string `pulumi:"apiKeyId"`
	// Range of IP addresses in CIDR notation included in the API Key access list.
	CidrBlock string `pulumi:"cidrBlock"`
	// Date and time when the access list entry was created.
	Created string `pulumi:"created"`
	// The provider-assigned unique ID for this managed resource.
	Id        string `pulumi:"id"`
	IpAddress string `pulumi:"ipAddress"`
	// Date and time when the API key was last used from this IP address or CIDR block.
	LastUsed string `pulumi:"lastUsed"`
	// IP address from which the last API request was made.
	LastUsedAddress string `pulumi:"lastUsedAddress"`
	OrgId           string `pulumi:"orgId"`
}

func LookupAccessListApiKeyOutput(ctx *pulumi.Context, args LookupAccessListApiKeyOutputArgs, opts ...pulumi.InvokeOption) LookupAccessListApiKeyResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (LookupAccessListApiKeyResultOutput, error) {
			args := v.(LookupAccessListApiKeyArgs)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("mongodbatlas:index/getAccessListApiKey:getAccessListApiKey", args, LookupAccessListApiKeyResultOutput{}, options).(LookupAccessListApiKeyResultOutput), nil
		}).(LookupAccessListApiKeyResultOutput)
}

// A collection of arguments for invoking getAccessListApiKey.
type LookupAccessListApiKeyOutputArgs struct {
	// Unique identifier for the Organization API Key for which you want to retrieve an access list entry.
	ApiKeyId pulumi.StringInput `pulumi:"apiKeyId"`
	// IP address to retrieve from the access list.
	IpAddress pulumi.StringInput `pulumi:"ipAddress"`
	// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
	OrgId pulumi.StringInput `pulumi:"orgId"`
}

func (LookupAccessListApiKeyOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupAccessListApiKeyArgs)(nil)).Elem()
}

// A collection of values returned by getAccessListApiKey.
type LookupAccessListApiKeyResultOutput struct{ *pulumi.OutputState }

func (LookupAccessListApiKeyResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupAccessListApiKeyResult)(nil)).Elem()
}

func (o LookupAccessListApiKeyResultOutput) ToLookupAccessListApiKeyResultOutput() LookupAccessListApiKeyResultOutput {
	return o
}

func (o LookupAccessListApiKeyResultOutput) ToLookupAccessListApiKeyResultOutputWithContext(ctx context.Context) LookupAccessListApiKeyResultOutput {
	return o
}

// Total number of requests that have originated from this IP address or CIDR block.
func (o LookupAccessListApiKeyResultOutput) AccessCount() pulumi.IntOutput {
	return o.ApplyT(func(v LookupAccessListApiKeyResult) int { return v.AccessCount }).(pulumi.IntOutput)
}

func (o LookupAccessListApiKeyResultOutput) ApiKeyId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAccessListApiKeyResult) string { return v.ApiKeyId }).(pulumi.StringOutput)
}

// Range of IP addresses in CIDR notation included in the API Key access list.
func (o LookupAccessListApiKeyResultOutput) CidrBlock() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAccessListApiKeyResult) string { return v.CidrBlock }).(pulumi.StringOutput)
}

// Date and time when the access list entry was created.
func (o LookupAccessListApiKeyResultOutput) Created() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAccessListApiKeyResult) string { return v.Created }).(pulumi.StringOutput)
}

// The provider-assigned unique ID for this managed resource.
func (o LookupAccessListApiKeyResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAccessListApiKeyResult) string { return v.Id }).(pulumi.StringOutput)
}

func (o LookupAccessListApiKeyResultOutput) IpAddress() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAccessListApiKeyResult) string { return v.IpAddress }).(pulumi.StringOutput)
}

// Date and time when the API key was last used from this IP address or CIDR block.
func (o LookupAccessListApiKeyResultOutput) LastUsed() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAccessListApiKeyResult) string { return v.LastUsed }).(pulumi.StringOutput)
}

// IP address from which the last API request was made.
func (o LookupAccessListApiKeyResultOutput) LastUsedAddress() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAccessListApiKeyResult) string { return v.LastUsedAddress }).(pulumi.StringOutput)
}

func (o LookupAccessListApiKeyResultOutput) OrgId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupAccessListApiKeyResult) string { return v.OrgId }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupAccessListApiKeyResultOutput{})
}
