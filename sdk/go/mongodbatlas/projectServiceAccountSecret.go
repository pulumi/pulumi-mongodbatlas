// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package mongodbatlas

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-mongodbatlas/sdk/v4/go/mongodbatlas/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// ## Example Usage
//
// ### S
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-mongodbatlas/sdk/v4/go/mongodbatlas"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			thisProjectServiceAccount, err := mongodbatlas.NewProjectServiceAccount(ctx, "this", &mongodbatlas.ProjectServiceAccountArgs{
//				ProjectId:   pulumi.Any(projectId),
//				Name:        pulumi.String("example-project-service-account"),
//				Description: pulumi.String("Example Project Service Account"),
//				Roles: pulumi.StringArray{
//					pulumi.String("GROUP_READ_ONLY"),
//				},
//				SecretExpiresAfterHours: pulumi.Int(2160),
//			})
//			if err != nil {
//				return err
//			}
//			thisProjectServiceAccountSecret, err := mongodbatlas.NewProjectServiceAccountSecret(ctx, "this", &mongodbatlas.ProjectServiceAccountSecretArgs{
//				ProjectId:               pulumi.Any(projectId),
//				ClientId:                thisProjectServiceAccount.ClientId,
//				SecretExpiresAfterHours: pulumi.Int(2160),
//			})
//			if err != nil {
//				return err
//			}
//			this := pulumi.All(thisProjectServiceAccount.ClientId, thisProjectServiceAccountSecret.SecretId).ApplyT(func(_args []interface{}) (mongodbatlas.GetProjectServiceAccountSecretResult, error) {
//				clientId := _args[0].(string)
//				secretId := _args[1].(string)
//				return mongodbatlas.GetProjectServiceAccountSecretResult(interface{}(mongodbatlas.LookupProjectServiceAccountSecret(ctx, &mongodbatlas.LookupProjectServiceAccountSecretArgs{
//					ProjectId: projectId,
//					ClientId:  clientId,
//					SecretId:  secretId,
//				}, nil))), nil
//			}).(mongodbatlas.GetProjectServiceAccountSecretResultOutput)
//			ctx.Export("secretId", thisProjectServiceAccountSecret.SecretId)
//			ctx.Export("secret", thisProjectServiceAccountSecret.Secret)
//			ctx.Export("secretExpiresAt", this.ApplyT(func(this mongodbatlas.GetProjectServiceAccountSecretResult) (*string, error) {
//				return &this.ExpiresAt, nil
//			}).(pulumi.StringPtrOutput))
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Import the Project Service Account Secret resource by using the Project ID, Client ID, and Secret ID in the format `PROJECT_ID/CLIENT_ID/SECRET_ID`, e.g.
//
// ```sh
// $ pulumi import mongodbatlas:index/projectServiceAccountSecret:ProjectServiceAccountSecret test 6117ac2fe2a3d04ed27a987v/mdb_sa_id_1234567890abcdef12345678/04ed271234abcde2a3da123a
// ```
// For more information, see [Create One Project Service Account Secret](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-creategroupserviceaccountsecret) in the MongoDB Atlas API documentation.
type ProjectServiceAccountSecret struct {
	pulumi.CustomResourceState

	// The Client ID of the Service Account.
	ClientId pulumi.StringOutput `pulumi:"clientId"`
	// The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	ExpiresAt pulumi.StringOutput `pulumi:"expiresAt"`
	// The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	LastUsedAt pulumi.StringOutput `pulumi:"lastUsedAt"`
	// The masked Service Account secret.
	MaskedSecretValue pulumi.StringOutput `pulumi:"maskedSecretValue"`
	// Unique 24-hexadecimal digit string that identifies your project.
	ProjectId pulumi.StringOutput `pulumi:"projectId"`
	// The secret for the Service Account. It will be returned only the first time after creation.
	Secret pulumi.StringOutput `pulumi:"secret"`
	// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
	SecretExpiresAfterHours pulumi.IntPtrOutput `pulumi:"secretExpiresAfterHours"`
	// Unique 24-hexadecimal digit string that identifies the secret.
	SecretId pulumi.StringOutput `pulumi:"secretId"`
}

// NewProjectServiceAccountSecret registers a new resource with the given unique name, arguments, and options.
func NewProjectServiceAccountSecret(ctx *pulumi.Context,
	name string, args *ProjectServiceAccountSecretArgs, opts ...pulumi.ResourceOption) (*ProjectServiceAccountSecret, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ClientId == nil {
		return nil, errors.New("invalid value for required argument 'ClientId'")
	}
	if args.ProjectId == nil {
		return nil, errors.New("invalid value for required argument 'ProjectId'")
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"secret",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ProjectServiceAccountSecret
	err := ctx.RegisterResource("mongodbatlas:index/projectServiceAccountSecret:ProjectServiceAccountSecret", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetProjectServiceAccountSecret gets an existing ProjectServiceAccountSecret resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetProjectServiceAccountSecret(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ProjectServiceAccountSecretState, opts ...pulumi.ResourceOption) (*ProjectServiceAccountSecret, error) {
	var resource ProjectServiceAccountSecret
	err := ctx.ReadResource("mongodbatlas:index/projectServiceAccountSecret:ProjectServiceAccountSecret", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ProjectServiceAccountSecret resources.
type projectServiceAccountSecretState struct {
	// The Client ID of the Service Account.
	ClientId *string `pulumi:"clientId"`
	// The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	CreatedAt *string `pulumi:"createdAt"`
	// The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	ExpiresAt *string `pulumi:"expiresAt"`
	// The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	LastUsedAt *string `pulumi:"lastUsedAt"`
	// The masked Service Account secret.
	MaskedSecretValue *string `pulumi:"maskedSecretValue"`
	// Unique 24-hexadecimal digit string that identifies your project.
	ProjectId *string `pulumi:"projectId"`
	// The secret for the Service Account. It will be returned only the first time after creation.
	Secret *string `pulumi:"secret"`
	// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
	SecretExpiresAfterHours *int `pulumi:"secretExpiresAfterHours"`
	// Unique 24-hexadecimal digit string that identifies the secret.
	SecretId *string `pulumi:"secretId"`
}

type ProjectServiceAccountSecretState struct {
	// The Client ID of the Service Account.
	ClientId pulumi.StringPtrInput
	// The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	CreatedAt pulumi.StringPtrInput
	// The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	ExpiresAt pulumi.StringPtrInput
	// The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	LastUsedAt pulumi.StringPtrInput
	// The masked Service Account secret.
	MaskedSecretValue pulumi.StringPtrInput
	// Unique 24-hexadecimal digit string that identifies your project.
	ProjectId pulumi.StringPtrInput
	// The secret for the Service Account. It will be returned only the first time after creation.
	Secret pulumi.StringPtrInput
	// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
	SecretExpiresAfterHours pulumi.IntPtrInput
	// Unique 24-hexadecimal digit string that identifies the secret.
	SecretId pulumi.StringPtrInput
}

func (ProjectServiceAccountSecretState) ElementType() reflect.Type {
	return reflect.TypeOf((*projectServiceAccountSecretState)(nil)).Elem()
}

type projectServiceAccountSecretArgs struct {
	// The Client ID of the Service Account.
	ClientId string `pulumi:"clientId"`
	// Unique 24-hexadecimal digit string that identifies your project.
	ProjectId string `pulumi:"projectId"`
	// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
	SecretExpiresAfterHours *int `pulumi:"secretExpiresAfterHours"`
}

// The set of arguments for constructing a ProjectServiceAccountSecret resource.
type ProjectServiceAccountSecretArgs struct {
	// The Client ID of the Service Account.
	ClientId pulumi.StringInput
	// Unique 24-hexadecimal digit string that identifies your project.
	ProjectId pulumi.StringInput
	// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
	SecretExpiresAfterHours pulumi.IntPtrInput
}

func (ProjectServiceAccountSecretArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*projectServiceAccountSecretArgs)(nil)).Elem()
}

type ProjectServiceAccountSecretInput interface {
	pulumi.Input

	ToProjectServiceAccountSecretOutput() ProjectServiceAccountSecretOutput
	ToProjectServiceAccountSecretOutputWithContext(ctx context.Context) ProjectServiceAccountSecretOutput
}

func (*ProjectServiceAccountSecret) ElementType() reflect.Type {
	return reflect.TypeOf((**ProjectServiceAccountSecret)(nil)).Elem()
}

func (i *ProjectServiceAccountSecret) ToProjectServiceAccountSecretOutput() ProjectServiceAccountSecretOutput {
	return i.ToProjectServiceAccountSecretOutputWithContext(context.Background())
}

func (i *ProjectServiceAccountSecret) ToProjectServiceAccountSecretOutputWithContext(ctx context.Context) ProjectServiceAccountSecretOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProjectServiceAccountSecretOutput)
}

// ProjectServiceAccountSecretArrayInput is an input type that accepts ProjectServiceAccountSecretArray and ProjectServiceAccountSecretArrayOutput values.
// You can construct a concrete instance of `ProjectServiceAccountSecretArrayInput` via:
//
//	ProjectServiceAccountSecretArray{ ProjectServiceAccountSecretArgs{...} }
type ProjectServiceAccountSecretArrayInput interface {
	pulumi.Input

	ToProjectServiceAccountSecretArrayOutput() ProjectServiceAccountSecretArrayOutput
	ToProjectServiceAccountSecretArrayOutputWithContext(context.Context) ProjectServiceAccountSecretArrayOutput
}

type ProjectServiceAccountSecretArray []ProjectServiceAccountSecretInput

func (ProjectServiceAccountSecretArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ProjectServiceAccountSecret)(nil)).Elem()
}

func (i ProjectServiceAccountSecretArray) ToProjectServiceAccountSecretArrayOutput() ProjectServiceAccountSecretArrayOutput {
	return i.ToProjectServiceAccountSecretArrayOutputWithContext(context.Background())
}

func (i ProjectServiceAccountSecretArray) ToProjectServiceAccountSecretArrayOutputWithContext(ctx context.Context) ProjectServiceAccountSecretArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProjectServiceAccountSecretArrayOutput)
}

// ProjectServiceAccountSecretMapInput is an input type that accepts ProjectServiceAccountSecretMap and ProjectServiceAccountSecretMapOutput values.
// You can construct a concrete instance of `ProjectServiceAccountSecretMapInput` via:
//
//	ProjectServiceAccountSecretMap{ "key": ProjectServiceAccountSecretArgs{...} }
type ProjectServiceAccountSecretMapInput interface {
	pulumi.Input

	ToProjectServiceAccountSecretMapOutput() ProjectServiceAccountSecretMapOutput
	ToProjectServiceAccountSecretMapOutputWithContext(context.Context) ProjectServiceAccountSecretMapOutput
}

type ProjectServiceAccountSecretMap map[string]ProjectServiceAccountSecretInput

func (ProjectServiceAccountSecretMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ProjectServiceAccountSecret)(nil)).Elem()
}

func (i ProjectServiceAccountSecretMap) ToProjectServiceAccountSecretMapOutput() ProjectServiceAccountSecretMapOutput {
	return i.ToProjectServiceAccountSecretMapOutputWithContext(context.Background())
}

func (i ProjectServiceAccountSecretMap) ToProjectServiceAccountSecretMapOutputWithContext(ctx context.Context) ProjectServiceAccountSecretMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ProjectServiceAccountSecretMapOutput)
}

type ProjectServiceAccountSecretOutput struct{ *pulumi.OutputState }

func (ProjectServiceAccountSecretOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ProjectServiceAccountSecret)(nil)).Elem()
}

func (o ProjectServiceAccountSecretOutput) ToProjectServiceAccountSecretOutput() ProjectServiceAccountSecretOutput {
	return o
}

func (o ProjectServiceAccountSecretOutput) ToProjectServiceAccountSecretOutputWithContext(ctx context.Context) ProjectServiceAccountSecretOutput {
	return o
}

// The Client ID of the Service Account.
func (o ProjectServiceAccountSecretOutput) ClientId() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectServiceAccountSecret) pulumi.StringOutput { return v.ClientId }).(pulumi.StringOutput)
}

// The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
func (o ProjectServiceAccountSecretOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectServiceAccountSecret) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
func (o ProjectServiceAccountSecretOutput) ExpiresAt() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectServiceAccountSecret) pulumi.StringOutput { return v.ExpiresAt }).(pulumi.StringOutput)
}

// The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
func (o ProjectServiceAccountSecretOutput) LastUsedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectServiceAccountSecret) pulumi.StringOutput { return v.LastUsedAt }).(pulumi.StringOutput)
}

// The masked Service Account secret.
func (o ProjectServiceAccountSecretOutput) MaskedSecretValue() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectServiceAccountSecret) pulumi.StringOutput { return v.MaskedSecretValue }).(pulumi.StringOutput)
}

// Unique 24-hexadecimal digit string that identifies your project.
func (o ProjectServiceAccountSecretOutput) ProjectId() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectServiceAccountSecret) pulumi.StringOutput { return v.ProjectId }).(pulumi.StringOutput)
}

// The secret for the Service Account. It will be returned only the first time after creation.
func (o ProjectServiceAccountSecretOutput) Secret() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectServiceAccountSecret) pulumi.StringOutput { return v.Secret }).(pulumi.StringOutput)
}

// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
func (o ProjectServiceAccountSecretOutput) SecretExpiresAfterHours() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *ProjectServiceAccountSecret) pulumi.IntPtrOutput { return v.SecretExpiresAfterHours }).(pulumi.IntPtrOutput)
}

// Unique 24-hexadecimal digit string that identifies the secret.
func (o ProjectServiceAccountSecretOutput) SecretId() pulumi.StringOutput {
	return o.ApplyT(func(v *ProjectServiceAccountSecret) pulumi.StringOutput { return v.SecretId }).(pulumi.StringOutput)
}

type ProjectServiceAccountSecretArrayOutput struct{ *pulumi.OutputState }

func (ProjectServiceAccountSecretArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ProjectServiceAccountSecret)(nil)).Elem()
}

func (o ProjectServiceAccountSecretArrayOutput) ToProjectServiceAccountSecretArrayOutput() ProjectServiceAccountSecretArrayOutput {
	return o
}

func (o ProjectServiceAccountSecretArrayOutput) ToProjectServiceAccountSecretArrayOutputWithContext(ctx context.Context) ProjectServiceAccountSecretArrayOutput {
	return o
}

func (o ProjectServiceAccountSecretArrayOutput) Index(i pulumi.IntInput) ProjectServiceAccountSecretOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ProjectServiceAccountSecret {
		return vs[0].([]*ProjectServiceAccountSecret)[vs[1].(int)]
	}).(ProjectServiceAccountSecretOutput)
}

type ProjectServiceAccountSecretMapOutput struct{ *pulumi.OutputState }

func (ProjectServiceAccountSecretMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ProjectServiceAccountSecret)(nil)).Elem()
}

func (o ProjectServiceAccountSecretMapOutput) ToProjectServiceAccountSecretMapOutput() ProjectServiceAccountSecretMapOutput {
	return o
}

func (o ProjectServiceAccountSecretMapOutput) ToProjectServiceAccountSecretMapOutputWithContext(ctx context.Context) ProjectServiceAccountSecretMapOutput {
	return o
}

func (o ProjectServiceAccountSecretMapOutput) MapIndex(k pulumi.StringInput) ProjectServiceAccountSecretOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ProjectServiceAccountSecret {
		return vs[0].(map[string]*ProjectServiceAccountSecret)[vs[1].(string)]
	}).(ProjectServiceAccountSecretOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ProjectServiceAccountSecretInput)(nil)).Elem(), &ProjectServiceAccountSecret{})
	pulumi.RegisterInputType(reflect.TypeOf((*ProjectServiceAccountSecretArrayInput)(nil)).Elem(), ProjectServiceAccountSecretArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ProjectServiceAccountSecretMapInput)(nil)).Elem(), ProjectServiceAccountSecretMap{})
	pulumi.RegisterOutputType(ProjectServiceAccountSecretOutput{})
	pulumi.RegisterOutputType(ProjectServiceAccountSecretArrayOutput{})
	pulumi.RegisterOutputType(ProjectServiceAccountSecretMapOutput{})
}
