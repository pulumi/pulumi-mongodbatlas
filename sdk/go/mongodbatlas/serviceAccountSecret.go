// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package mongodbatlas

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-mongodbatlas/sdk/v4/go/mongodbatlas/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// ## Example Usage
//
// ### S
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-mongodbatlas/sdk/v4/go/mongodbatlas"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			thisServiceAccount, err := mongodbatlas.NewServiceAccount(ctx, "this", &mongodbatlas.ServiceAccountArgs{
//				OrgId:       pulumi.Any(orgId),
//				Name:        pulumi.String("example-service-account"),
//				Description: pulumi.String("Example Service Account"),
//				Roles: pulumi.StringArray{
//					pulumi.String("ORG_READ_ONLY"),
//				},
//				SecretExpiresAfterHours: pulumi.Int(2160),
//			})
//			if err != nil {
//				return err
//			}
//			thisServiceAccountSecret, err := mongodbatlas.NewServiceAccountSecret(ctx, "this", &mongodbatlas.ServiceAccountSecretArgs{
//				OrgId:                   pulumi.Any(orgId),
//				ClientId:                thisServiceAccount.ClientId,
//				SecretExpiresAfterHours: pulumi.Int(2160),
//			})
//			if err != nil {
//				return err
//			}
//			this := pulumi.All(thisServiceAccount.ClientId, thisServiceAccountSecret.SecretId).ApplyT(func(_args []interface{}) (mongodbatlas.GetServiceAccountSecretResult, error) {
//				clientId := _args[0].(string)
//				secretId := _args[1].(string)
//				return mongodbatlas.GetServiceAccountSecretResult(interface{}(mongodbatlas.LookupServiceAccountSecret(ctx, &mongodbatlas.LookupServiceAccountSecretArgs{
//					OrgId:    orgId,
//					ClientId: clientId,
//					SecretId: secretId,
//				}, nil))), nil
//			}).(mongodbatlas.GetServiceAccountSecretResultOutput)
//			ctx.Export("secretId", thisServiceAccountSecret.SecretId)
//			ctx.Export("secret", thisServiceAccountSecret.Secret)
//			ctx.Export("secretExpiresAt", this.ApplyT(func(this mongodbatlas.GetServiceAccountSecretResult) (*string, error) {
//				return &this.ExpiresAt, nil
//			}).(pulumi.StringPtrOutput))
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Import the Service Account Secret resource by using the Organization ID, Client ID, and Secret ID in the format `ORG_ID/CLIENT_ID/SECRET_ID`, e.g.
//
// ```sh
// $ pulumi import mongodbatlas:index/serviceAccountSecret:ServiceAccountSecret test 6117ac2fe2a3d04ed27a987v/mdb_sa_id_1234567890abcdef12345678/04ed271234abcde2a3da123a
// ```
// For more information, see [Create One Organization Service Account Secret](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-createorgserviceaccountsecret) in the MongoDB Atlas API documentation.
type ServiceAccountSecret struct {
	pulumi.CustomResourceState

	// The Client ID of the Service Account.
	ClientId pulumi.StringOutput `pulumi:"clientId"`
	// The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	ExpiresAt pulumi.StringOutput `pulumi:"expiresAt"`
	// The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	LastUsedAt pulumi.StringOutput `pulumi:"lastUsedAt"`
	// The masked Service Account secret.
	MaskedSecretValue pulumi.StringOutput `pulumi:"maskedSecretValue"`
	// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
	OrgId pulumi.StringOutput `pulumi:"orgId"`
	// The secret for the Service Account. It will be returned only the first time after creation.
	Secret pulumi.StringOutput `pulumi:"secret"`
	// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
	SecretExpiresAfterHours pulumi.IntPtrOutput `pulumi:"secretExpiresAfterHours"`
	// Unique 24-hexadecimal digit string that identifies the secret.
	SecretId pulumi.StringOutput `pulumi:"secretId"`
}

// NewServiceAccountSecret registers a new resource with the given unique name, arguments, and options.
func NewServiceAccountSecret(ctx *pulumi.Context,
	name string, args *ServiceAccountSecretArgs, opts ...pulumi.ResourceOption) (*ServiceAccountSecret, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ClientId == nil {
		return nil, errors.New("invalid value for required argument 'ClientId'")
	}
	if args.OrgId == nil {
		return nil, errors.New("invalid value for required argument 'OrgId'")
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"secret",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ServiceAccountSecret
	err := ctx.RegisterResource("mongodbatlas:index/serviceAccountSecret:ServiceAccountSecret", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetServiceAccountSecret gets an existing ServiceAccountSecret resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetServiceAccountSecret(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ServiceAccountSecretState, opts ...pulumi.ResourceOption) (*ServiceAccountSecret, error) {
	var resource ServiceAccountSecret
	err := ctx.ReadResource("mongodbatlas:index/serviceAccountSecret:ServiceAccountSecret", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ServiceAccountSecret resources.
type serviceAccountSecretState struct {
	// The Client ID of the Service Account.
	ClientId *string `pulumi:"clientId"`
	// The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	CreatedAt *string `pulumi:"createdAt"`
	// The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	ExpiresAt *string `pulumi:"expiresAt"`
	// The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	LastUsedAt *string `pulumi:"lastUsedAt"`
	// The masked Service Account secret.
	MaskedSecretValue *string `pulumi:"maskedSecretValue"`
	// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
	OrgId *string `pulumi:"orgId"`
	// The secret for the Service Account. It will be returned only the first time after creation.
	Secret *string `pulumi:"secret"`
	// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
	SecretExpiresAfterHours *int `pulumi:"secretExpiresAfterHours"`
	// Unique 24-hexadecimal digit string that identifies the secret.
	SecretId *string `pulumi:"secretId"`
}

type ServiceAccountSecretState struct {
	// The Client ID of the Service Account.
	ClientId pulumi.StringPtrInput
	// The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	CreatedAt pulumi.StringPtrInput
	// The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	ExpiresAt pulumi.StringPtrInput
	// The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
	LastUsedAt pulumi.StringPtrInput
	// The masked Service Account secret.
	MaskedSecretValue pulumi.StringPtrInput
	// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
	OrgId pulumi.StringPtrInput
	// The secret for the Service Account. It will be returned only the first time after creation.
	Secret pulumi.StringPtrInput
	// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
	SecretExpiresAfterHours pulumi.IntPtrInput
	// Unique 24-hexadecimal digit string that identifies the secret.
	SecretId pulumi.StringPtrInput
}

func (ServiceAccountSecretState) ElementType() reflect.Type {
	return reflect.TypeOf((*serviceAccountSecretState)(nil)).Elem()
}

type serviceAccountSecretArgs struct {
	// The Client ID of the Service Account.
	ClientId string `pulumi:"clientId"`
	// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
	OrgId string `pulumi:"orgId"`
	// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
	SecretExpiresAfterHours *int `pulumi:"secretExpiresAfterHours"`
}

// The set of arguments for constructing a ServiceAccountSecret resource.
type ServiceAccountSecretArgs struct {
	// The Client ID of the Service Account.
	ClientId pulumi.StringInput
	// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
	OrgId pulumi.StringInput
	// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
	SecretExpiresAfterHours pulumi.IntPtrInput
}

func (ServiceAccountSecretArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*serviceAccountSecretArgs)(nil)).Elem()
}

type ServiceAccountSecretInput interface {
	pulumi.Input

	ToServiceAccountSecretOutput() ServiceAccountSecretOutput
	ToServiceAccountSecretOutputWithContext(ctx context.Context) ServiceAccountSecretOutput
}

func (*ServiceAccountSecret) ElementType() reflect.Type {
	return reflect.TypeOf((**ServiceAccountSecret)(nil)).Elem()
}

func (i *ServiceAccountSecret) ToServiceAccountSecretOutput() ServiceAccountSecretOutput {
	return i.ToServiceAccountSecretOutputWithContext(context.Background())
}

func (i *ServiceAccountSecret) ToServiceAccountSecretOutputWithContext(ctx context.Context) ServiceAccountSecretOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServiceAccountSecretOutput)
}

// ServiceAccountSecretArrayInput is an input type that accepts ServiceAccountSecretArray and ServiceAccountSecretArrayOutput values.
// You can construct a concrete instance of `ServiceAccountSecretArrayInput` via:
//
//	ServiceAccountSecretArray{ ServiceAccountSecretArgs{...} }
type ServiceAccountSecretArrayInput interface {
	pulumi.Input

	ToServiceAccountSecretArrayOutput() ServiceAccountSecretArrayOutput
	ToServiceAccountSecretArrayOutputWithContext(context.Context) ServiceAccountSecretArrayOutput
}

type ServiceAccountSecretArray []ServiceAccountSecretInput

func (ServiceAccountSecretArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ServiceAccountSecret)(nil)).Elem()
}

func (i ServiceAccountSecretArray) ToServiceAccountSecretArrayOutput() ServiceAccountSecretArrayOutput {
	return i.ToServiceAccountSecretArrayOutputWithContext(context.Background())
}

func (i ServiceAccountSecretArray) ToServiceAccountSecretArrayOutputWithContext(ctx context.Context) ServiceAccountSecretArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServiceAccountSecretArrayOutput)
}

// ServiceAccountSecretMapInput is an input type that accepts ServiceAccountSecretMap and ServiceAccountSecretMapOutput values.
// You can construct a concrete instance of `ServiceAccountSecretMapInput` via:
//
//	ServiceAccountSecretMap{ "key": ServiceAccountSecretArgs{...} }
type ServiceAccountSecretMapInput interface {
	pulumi.Input

	ToServiceAccountSecretMapOutput() ServiceAccountSecretMapOutput
	ToServiceAccountSecretMapOutputWithContext(context.Context) ServiceAccountSecretMapOutput
}

type ServiceAccountSecretMap map[string]ServiceAccountSecretInput

func (ServiceAccountSecretMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ServiceAccountSecret)(nil)).Elem()
}

func (i ServiceAccountSecretMap) ToServiceAccountSecretMapOutput() ServiceAccountSecretMapOutput {
	return i.ToServiceAccountSecretMapOutputWithContext(context.Background())
}

func (i ServiceAccountSecretMap) ToServiceAccountSecretMapOutputWithContext(ctx context.Context) ServiceAccountSecretMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServiceAccountSecretMapOutput)
}

type ServiceAccountSecretOutput struct{ *pulumi.OutputState }

func (ServiceAccountSecretOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ServiceAccountSecret)(nil)).Elem()
}

func (o ServiceAccountSecretOutput) ToServiceAccountSecretOutput() ServiceAccountSecretOutput {
	return o
}

func (o ServiceAccountSecretOutput) ToServiceAccountSecretOutputWithContext(ctx context.Context) ServiceAccountSecretOutput {
	return o
}

// The Client ID of the Service Account.
func (o ServiceAccountSecretOutput) ClientId() pulumi.StringOutput {
	return o.ApplyT(func(v *ServiceAccountSecret) pulumi.StringOutput { return v.ClientId }).(pulumi.StringOutput)
}

// The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
func (o ServiceAccountSecretOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *ServiceAccountSecret) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
func (o ServiceAccountSecretOutput) ExpiresAt() pulumi.StringOutput {
	return o.ApplyT(func(v *ServiceAccountSecret) pulumi.StringOutput { return v.ExpiresAt }).(pulumi.StringOutput)
}

// The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
func (o ServiceAccountSecretOutput) LastUsedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *ServiceAccountSecret) pulumi.StringOutput { return v.LastUsedAt }).(pulumi.StringOutput)
}

// The masked Service Account secret.
func (o ServiceAccountSecretOutput) MaskedSecretValue() pulumi.StringOutput {
	return o.ApplyT(func(v *ServiceAccountSecret) pulumi.StringOutput { return v.MaskedSecretValue }).(pulumi.StringOutput)
}

// Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
func (o ServiceAccountSecretOutput) OrgId() pulumi.StringOutput {
	return o.ApplyT(func(v *ServiceAccountSecret) pulumi.StringOutput { return v.OrgId }).(pulumi.StringOutput)
}

// The secret for the Service Account. It will be returned only the first time after creation.
func (o ServiceAccountSecretOutput) Secret() pulumi.StringOutput {
	return o.ApplyT(func(v *ServiceAccountSecret) pulumi.StringOutput { return v.Secret }).(pulumi.StringOutput)
}

// The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
func (o ServiceAccountSecretOutput) SecretExpiresAfterHours() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *ServiceAccountSecret) pulumi.IntPtrOutput { return v.SecretExpiresAfterHours }).(pulumi.IntPtrOutput)
}

// Unique 24-hexadecimal digit string that identifies the secret.
func (o ServiceAccountSecretOutput) SecretId() pulumi.StringOutput {
	return o.ApplyT(func(v *ServiceAccountSecret) pulumi.StringOutput { return v.SecretId }).(pulumi.StringOutput)
}

type ServiceAccountSecretArrayOutput struct{ *pulumi.OutputState }

func (ServiceAccountSecretArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ServiceAccountSecret)(nil)).Elem()
}

func (o ServiceAccountSecretArrayOutput) ToServiceAccountSecretArrayOutput() ServiceAccountSecretArrayOutput {
	return o
}

func (o ServiceAccountSecretArrayOutput) ToServiceAccountSecretArrayOutputWithContext(ctx context.Context) ServiceAccountSecretArrayOutput {
	return o
}

func (o ServiceAccountSecretArrayOutput) Index(i pulumi.IntInput) ServiceAccountSecretOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ServiceAccountSecret {
		return vs[0].([]*ServiceAccountSecret)[vs[1].(int)]
	}).(ServiceAccountSecretOutput)
}

type ServiceAccountSecretMapOutput struct{ *pulumi.OutputState }

func (ServiceAccountSecretMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ServiceAccountSecret)(nil)).Elem()
}

func (o ServiceAccountSecretMapOutput) ToServiceAccountSecretMapOutput() ServiceAccountSecretMapOutput {
	return o
}

func (o ServiceAccountSecretMapOutput) ToServiceAccountSecretMapOutputWithContext(ctx context.Context) ServiceAccountSecretMapOutput {
	return o
}

func (o ServiceAccountSecretMapOutput) MapIndex(k pulumi.StringInput) ServiceAccountSecretOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ServiceAccountSecret {
		return vs[0].(map[string]*ServiceAccountSecret)[vs[1].(string)]
	}).(ServiceAccountSecretOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ServiceAccountSecretInput)(nil)).Elem(), &ServiceAccountSecret{})
	pulumi.RegisterInputType(reflect.TypeOf((*ServiceAccountSecretArrayInput)(nil)).Elem(), ServiceAccountSecretArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ServiceAccountSecretMapInput)(nil)).Elem(), ServiceAccountSecretMap{})
	pulumi.RegisterOutputType(ServiceAccountSecretOutput{})
	pulumi.RegisterOutputType(ServiceAccountSecretArrayOutput{})
	pulumi.RegisterOutputType(ServiceAccountSecretMapOutput{})
}
