// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package mongodbatlas

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-mongodbatlas/sdk/v3/go/mongodbatlas/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// `ProjectIpAccessList` describes an IP Access List entry resource. The access list grants access from IPs, CIDRs or AWS Security Groups (if VPC Peering is enabled) to clusters within the Project.
//
// > **NOTE:** Groups and projects are synonymous terms. You may find `groupId` in the official documentation.
//
// > **IMPORTANT:**
// When you remove an entry from the access list, existing connections from the removed address(es) may remain open for a variable amount of time. How much time passes before Atlas closes the connection depends on several factors, including how the connection was established, the particular behavior of the application or driver using the address, and the connection protocol (e.g., TCP or UDP). This is particularly important to consider when changing an existing IP address or CIDR block as they cannot be updated via the Provider (comments can however), hence a change will force the destruction and recreation of entries.
//
// ## Example Usage
//
// ### Using CIDR Block
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-mongodbatlas/sdk/v3/go/mongodbatlas"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			testProjectIpAccessList, err := mongodbatlas.NewProjectIpAccessList(ctx, "test", &mongodbatlas.ProjectIpAccessListArgs{
//				ProjectId: pulumi.String("<PROJECT-ID>"),
//				CidrBlock: pulumi.String("1.2.3.4/32"),
//				Comment:   pulumi.String("cidr block for tf acc testing"),
//			})
//			if err != nil {
//				return err
//			}
//			_ = mongodbatlas.LookupProjectIpAccessListOutput(ctx, mongodbatlas.GetProjectIpAccessListOutputArgs{
//				ProjectId: testProjectIpAccessList.ProjectId,
//				CidrBlock: testProjectIpAccessList.CidrBlock,
//			}, nil)
//			return nil
//		})
//	}
//
// ```
//
// ### Using IP Address
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-mongodbatlas/sdk/v3/go/mongodbatlas"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			testProjectIpAccessList, err := mongodbatlas.NewProjectIpAccessList(ctx, "test", &mongodbatlas.ProjectIpAccessListArgs{
//				ProjectId: pulumi.String("<PROJECT-ID>"),
//				IpAddress: pulumi.String("2.3.4.5"),
//				Comment:   pulumi.String("ip address for tf acc testing"),
//			})
//			if err != nil {
//				return err
//			}
//			_ = mongodbatlas.LookupProjectIpAccessListOutput(ctx, mongodbatlas.GetProjectIpAccessListOutputArgs{
//				ProjectId: testProjectIpAccessList.ProjectId,
//				IpAddress: testProjectIpAccessList.IpAddress,
//			}, nil)
//			return nil
//		})
//	}
//
// ```
//
// ### Using an AWS Security Group
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-mongodbatlas/sdk/v3/go/mongodbatlas"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			testNetworkContainer, err := mongodbatlas.NewNetworkContainer(ctx, "test", &mongodbatlas.NetworkContainerArgs{
//				ProjectId:      pulumi.String("<PROJECT-ID>"),
//				AtlasCidrBlock: pulumi.String("192.168.208.0/21"),
//				ProviderName:   pulumi.String("AWS"),
//				RegionName:     pulumi.String("US_EAST_1"),
//			})
//			if err != nil {
//				return err
//			}
//			testNetworkPeering, err := mongodbatlas.NewNetworkPeering(ctx, "test", &mongodbatlas.NetworkPeeringArgs{
//				ProjectId:           pulumi.String("<PROJECT-ID>"),
//				ContainerId:         testNetworkContainer.ContainerId,
//				AccepterRegionName:  pulumi.String("us-east-1"),
//				ProviderName:        pulumi.String("AWS"),
//				RouteTableCidrBlock: pulumi.String("172.31.0.0/16"),
//				VpcId:               pulumi.String("vpc-0d93d6f69f1578bd8"),
//				AwsAccountId:        pulumi.String("232589400519"),
//			})
//			if err != nil {
//				return err
//			}
//			testProjectIpAccessList, err := mongodbatlas.NewProjectIpAccessList(ctx, "test", &mongodbatlas.ProjectIpAccessListArgs{
//				ProjectId:        pulumi.String("<PROJECT-ID>"),
//				AwsSecurityGroup: pulumi.String("sg-0026348ec11780bd1"),
//				Comment:          pulumi.String("TestAcc for awsSecurityGroup"),
//			}, pulumi.DependsOn([]pulumi.Resource{
//				testNetworkPeering,
//			}))
//			if err != nil {
//				return err
//			}
//			_ = mongodbatlas.LookupProjectIpAccessListOutput(ctx, mongodbatlas.GetProjectIpAccessListOutputArgs{
//				ProjectId:        testProjectIpAccessList.ProjectId,
//				AwsSecurityGroup: testProjectIpAccessList.AwsSecurityGroup,
//			}, nil)
//			return nil
//		})
//	}
//
// ```
//
// > **IMPORTANT:** In order to use AWS Security Group(s) VPC Peering must be enabled like in the above example.
func LookupProjectIpAccessList(ctx *pulumi.Context, args *LookupProjectIpAccessListArgs, opts ...pulumi.InvokeOption) (*LookupProjectIpAccessListResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv LookupProjectIpAccessListResult
	err := ctx.Invoke("mongodbatlas:index/getProjectIpAccessList:getProjectIpAccessList", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getProjectIpAccessList.
type LookupProjectIpAccessListArgs struct {
	// Unique identifier of the AWS security group to add to the access list.
	AwsSecurityGroup *string `pulumi:"awsSecurityGroup"`
	// Range of IP addresses in CIDR notation to be added to the access list.
	CidrBlock *string `pulumi:"cidrBlock"`
	// Single IP address to be added to the access list.
	//
	// > **NOTE:** One of the following attributes must set:  `awsSecurityGroup`, `cidrBlock`  or `ipAddress`.
	IpAddress *string `pulumi:"ipAddress"`
	// Unique identifier for the project to which you want to add one or more access list entries.
	ProjectId string `pulumi:"projectId"`
}

// A collection of values returned by getProjectIpAccessList.
type LookupProjectIpAccessListResult struct {
	AwsSecurityGroup string `pulumi:"awsSecurityGroup"`
	CidrBlock        string `pulumi:"cidrBlock"`
	// Comment to add to the access list entry.
	Comment   string `pulumi:"comment"`
	Id        string `pulumi:"id"`
	IpAddress string `pulumi:"ipAddress"`
	ProjectId string `pulumi:"projectId"`
}

func LookupProjectIpAccessListOutput(ctx *pulumi.Context, args LookupProjectIpAccessListOutputArgs, opts ...pulumi.InvokeOption) LookupProjectIpAccessListResultOutput {
	return pulumi.ToOutputWithContext(context.Background(), args).
		ApplyT(func(v interface{}) (LookupProjectIpAccessListResult, error) {
			args := v.(LookupProjectIpAccessListArgs)
			r, err := LookupProjectIpAccessList(ctx, &args, opts...)
			var s LookupProjectIpAccessListResult
			if r != nil {
				s = *r
			}
			return s, err
		}).(LookupProjectIpAccessListResultOutput)
}

// A collection of arguments for invoking getProjectIpAccessList.
type LookupProjectIpAccessListOutputArgs struct {
	// Unique identifier of the AWS security group to add to the access list.
	AwsSecurityGroup pulumi.StringPtrInput `pulumi:"awsSecurityGroup"`
	// Range of IP addresses in CIDR notation to be added to the access list.
	CidrBlock pulumi.StringPtrInput `pulumi:"cidrBlock"`
	// Single IP address to be added to the access list.
	//
	// > **NOTE:** One of the following attributes must set:  `awsSecurityGroup`, `cidrBlock`  or `ipAddress`.
	IpAddress pulumi.StringPtrInput `pulumi:"ipAddress"`
	// Unique identifier for the project to which you want to add one or more access list entries.
	ProjectId pulumi.StringInput `pulumi:"projectId"`
}

func (LookupProjectIpAccessListOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupProjectIpAccessListArgs)(nil)).Elem()
}

// A collection of values returned by getProjectIpAccessList.
type LookupProjectIpAccessListResultOutput struct{ *pulumi.OutputState }

func (LookupProjectIpAccessListResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupProjectIpAccessListResult)(nil)).Elem()
}

func (o LookupProjectIpAccessListResultOutput) ToLookupProjectIpAccessListResultOutput() LookupProjectIpAccessListResultOutput {
	return o
}

func (o LookupProjectIpAccessListResultOutput) ToLookupProjectIpAccessListResultOutputWithContext(ctx context.Context) LookupProjectIpAccessListResultOutput {
	return o
}

func (o LookupProjectIpAccessListResultOutput) AwsSecurityGroup() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectIpAccessListResult) string { return v.AwsSecurityGroup }).(pulumi.StringOutput)
}

func (o LookupProjectIpAccessListResultOutput) CidrBlock() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectIpAccessListResult) string { return v.CidrBlock }).(pulumi.StringOutput)
}

// Comment to add to the access list entry.
func (o LookupProjectIpAccessListResultOutput) Comment() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectIpAccessListResult) string { return v.Comment }).(pulumi.StringOutput)
}

func (o LookupProjectIpAccessListResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectIpAccessListResult) string { return v.Id }).(pulumi.StringOutput)
}

func (o LookupProjectIpAccessListResultOutput) IpAddress() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectIpAccessListResult) string { return v.IpAddress }).(pulumi.StringOutput)
}

func (o LookupProjectIpAccessListResultOutput) ProjectId() pulumi.StringOutput {
	return o.ApplyT(func(v LookupProjectIpAccessListResult) string { return v.ProjectId }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupProjectIpAccessListResultOutput{})
}
