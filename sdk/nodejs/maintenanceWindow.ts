// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./types/input";
import * as outputs from "./types/output";
import * as utilities from "./utilities";

/**
 * `mongodbatlas.MaintenanceWindow` provides a resource to schedule the maintenance window for your MongoDB Atlas Project and/or set to defer a scheduled maintenance up to two times. Please refer to [Maintenance Windows](https://www.mongodb.com/docs/atlas/tutorial/cluster-maintenance-window/#configure-maintenance-window) documentation for more details.
 *
 * > **NOTE:** Only a single maintenance window resource can be defined per project.
 *
 * > **NOTE:** Groups and projects are synonymous terms. You may find `groupId` in the official documentation.
 *
 * > **NOTE:** Maintenance window times use the project's configured timezone. To change the timezone, update the Project Time Zone setting in the Atlas Project Settings.
 *
 * ## Maintenance Window Considerations:
 *
 * - Urgent Maintenance Activities Cannot Wait: Urgent maintenance activities such as security patches cannot wait for your chosen window. Atlas will start those maintenance activities when needed.
 *
 * Once maintenance is scheduled for your cluster, you cannot change your maintenance window until the current maintenance efforts have completed.
 * - Maintenance Requires Replica Set Elections: Atlas performs maintenance the same way as the manual maintenance procedure. This requires at least one replica set election during the maintenance window per replica set.
 * - Maintenance Starts As Close to the Hour As Possible: Maintenance always begins as close to the scheduled hour as possible, but in-progress cluster updates or expected system issues could delay the start time.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as mongodbatlas from "@pulumi/mongodbatlas";
 *
 * const test = new mongodbatlas.MaintenanceWindow("test", {
 *     projectId: "<your-project-id>",
 *     dayOfWeek: 3,
 *     hourOfDay: 4,
 *     protectedHours: {
 *         startHourOfDay: 9,
 *         endHourOfDay: 17,
 *     },
 * });
 * ```
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as mongodbatlas from "@pulumi/mongodbatlas";
 *
 * const test = new mongodbatlas.MaintenanceWindow("test", {
 *     projectId: "<your-project-id>",
 *     defer: true,
 * });
 * ```
 *
 * ### Further Examples
 * - Configure Maintenance Window
 *
 * ## Import
 *
 * Maintenance Window entries can be imported using project project_id, in the format `PROJECTID`, e.g.
 *
 * ```sh
 * $ pulumi import mongodbatlas:index/maintenanceWindow:MaintenanceWindow test 5d0f1f73cf09a29120e173cf
 * ```
 * For more information see: [MongoDB Atlas API Reference.](https://docs.atlas.mongodb.com/reference/api/maintenance-windows/)
 */
export class MaintenanceWindow extends pulumi.CustomResource {
    /**
     * Get an existing MaintenanceWindow resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: MaintenanceWindowState, opts?: pulumi.CustomResourceOptions): MaintenanceWindow {
        return new MaintenanceWindow(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'mongodbatlas:index/maintenanceWindow:MaintenanceWindow';

    /**
     * Returns true if the given object is an instance of MaintenanceWindow.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is MaintenanceWindow {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === MaintenanceWindow.__pulumiType;
    }

    /**
     * Defer any scheduled maintenance for the given project for one week.
     */
    declare public readonly autoDefer: pulumi.Output<boolean>;
    /**
     * Flag that indicates whether you want to defer all maintenance windows one week they would be triggered.
     */
    declare public readonly autoDeferOnceEnabled: pulumi.Output<boolean>;
    /**
     * Day of the week when you would like the maintenance window to start as a 1-based integer: Su=1, M=2, T=3, W=4, T=5, F=6, Sa=7.
     */
    declare public readonly dayOfWeek: pulumi.Output<number>;
    /**
     * Defer the next scheduled maintenance for the given project for one week.
     */
    declare public readonly defer: pulumi.Output<boolean>;
    /**
     * Hour of the day when you would like the maintenance window to start. This parameter uses the 24-hour clock, where midnight is 0, noon is 12. Uses the project's configured timezone.
     */
    declare public readonly hourOfDay: pulumi.Output<number>;
    /**
     * Number of times the current maintenance event for this project has been deferred, there can be a maximum of 2 deferrals.
     */
    declare public /*out*/ readonly numberOfDeferrals: pulumi.Output<number>;
    /**
     * The unique identifier of the project for the Maintenance Window.
     */
    declare public readonly projectId: pulumi.Output<string>;
    /**
     * Defines the time period during which there will be no standard updates to the clusters. See Protected Hours.
     */
    declare public readonly protectedHours: pulumi.Output<outputs.MaintenanceWindowProtectedHours | undefined>;
    /**
     * Flag indicating whether project maintenance has been directed to start immediately. If requested, this field returns true from the time the request was made until the time the maintenance event completes.
     */
    declare public /*out*/ readonly startAsap: pulumi.Output<boolean>;
    /**
     * Identifier for the current time zone of the maintenance window. This can only be updated via the Project Settings UI.
     */
    declare public /*out*/ readonly timeZoneId: pulumi.Output<string>;

    /**
     * Create a MaintenanceWindow resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: MaintenanceWindowArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: MaintenanceWindowArgs | MaintenanceWindowState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as MaintenanceWindowState | undefined;
            resourceInputs["autoDefer"] = state?.autoDefer;
            resourceInputs["autoDeferOnceEnabled"] = state?.autoDeferOnceEnabled;
            resourceInputs["dayOfWeek"] = state?.dayOfWeek;
            resourceInputs["defer"] = state?.defer;
            resourceInputs["hourOfDay"] = state?.hourOfDay;
            resourceInputs["numberOfDeferrals"] = state?.numberOfDeferrals;
            resourceInputs["projectId"] = state?.projectId;
            resourceInputs["protectedHours"] = state?.protectedHours;
            resourceInputs["startAsap"] = state?.startAsap;
            resourceInputs["timeZoneId"] = state?.timeZoneId;
        } else {
            const args = argsOrState as MaintenanceWindowArgs | undefined;
            if (args?.dayOfWeek === undefined && !opts.urn) {
                throw new Error("Missing required property 'dayOfWeek'");
            }
            if (args?.hourOfDay === undefined && !opts.urn) {
                throw new Error("Missing required property 'hourOfDay'");
            }
            if (args?.projectId === undefined && !opts.urn) {
                throw new Error("Missing required property 'projectId'");
            }
            resourceInputs["autoDefer"] = args?.autoDefer;
            resourceInputs["autoDeferOnceEnabled"] = args?.autoDeferOnceEnabled;
            resourceInputs["dayOfWeek"] = args?.dayOfWeek;
            resourceInputs["defer"] = args?.defer;
            resourceInputs["hourOfDay"] = args?.hourOfDay;
            resourceInputs["projectId"] = args?.projectId;
            resourceInputs["protectedHours"] = args?.protectedHours;
            resourceInputs["numberOfDeferrals"] = undefined /*out*/;
            resourceInputs["startAsap"] = undefined /*out*/;
            resourceInputs["timeZoneId"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(MaintenanceWindow.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering MaintenanceWindow resources.
 */
export interface MaintenanceWindowState {
    /**
     * Defer any scheduled maintenance for the given project for one week.
     */
    autoDefer?: pulumi.Input<boolean>;
    /**
     * Flag that indicates whether you want to defer all maintenance windows one week they would be triggered.
     */
    autoDeferOnceEnabled?: pulumi.Input<boolean>;
    /**
     * Day of the week when you would like the maintenance window to start as a 1-based integer: Su=1, M=2, T=3, W=4, T=5, F=6, Sa=7.
     */
    dayOfWeek?: pulumi.Input<number>;
    /**
     * Defer the next scheduled maintenance for the given project for one week.
     */
    defer?: pulumi.Input<boolean>;
    /**
     * Hour of the day when you would like the maintenance window to start. This parameter uses the 24-hour clock, where midnight is 0, noon is 12. Uses the project's configured timezone.
     */
    hourOfDay?: pulumi.Input<number>;
    /**
     * Number of times the current maintenance event for this project has been deferred, there can be a maximum of 2 deferrals.
     */
    numberOfDeferrals?: pulumi.Input<number>;
    /**
     * The unique identifier of the project for the Maintenance Window.
     */
    projectId?: pulumi.Input<string>;
    /**
     * Defines the time period during which there will be no standard updates to the clusters. See Protected Hours.
     */
    protectedHours?: pulumi.Input<inputs.MaintenanceWindowProtectedHours>;
    /**
     * Flag indicating whether project maintenance has been directed to start immediately. If requested, this field returns true from the time the request was made until the time the maintenance event completes.
     */
    startAsap?: pulumi.Input<boolean>;
    /**
     * Identifier for the current time zone of the maintenance window. This can only be updated via the Project Settings UI.
     */
    timeZoneId?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a MaintenanceWindow resource.
 */
export interface MaintenanceWindowArgs {
    /**
     * Defer any scheduled maintenance for the given project for one week.
     */
    autoDefer?: pulumi.Input<boolean>;
    /**
     * Flag that indicates whether you want to defer all maintenance windows one week they would be triggered.
     */
    autoDeferOnceEnabled?: pulumi.Input<boolean>;
    /**
     * Day of the week when you would like the maintenance window to start as a 1-based integer: Su=1, M=2, T=3, W=4, T=5, F=6, Sa=7.
     */
    dayOfWeek: pulumi.Input<number>;
    /**
     * Defer the next scheduled maintenance for the given project for one week.
     */
    defer?: pulumi.Input<boolean>;
    /**
     * Hour of the day when you would like the maintenance window to start. This parameter uses the 24-hour clock, where midnight is 0, noon is 12. Uses the project's configured timezone.
     */
    hourOfDay: pulumi.Input<number>;
    /**
     * The unique identifier of the project for the Maintenance Window.
     */
    projectId: pulumi.Input<string>;
    /**
     * Defines the time period during which there will be no standard updates to the clusters. See Protected Hours.
     */
    protectedHours?: pulumi.Input<inputs.MaintenanceWindowProtectedHours>;
}
