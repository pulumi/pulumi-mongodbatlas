// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "./utilities";

/**
 * ## Example Usage
 *
 * ### S
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as mongodbatlas from "@pulumi/mongodbatlas";
 *
 * const thisServiceAccount = new mongodbatlas.ServiceAccount("this", {
 *     orgId: orgId,
 *     name: "example-service-account",
 *     description: "Example Service Account",
 *     roles: ["ORG_READ_ONLY"],
 *     secretExpiresAfterHours: 2160,
 * });
 * const thisServiceAccountSecret = new mongodbatlas.ServiceAccountSecret("this", {
 *     orgId: orgId,
 *     clientId: thisServiceAccount.clientId,
 *     secretExpiresAfterHours: 2160,
 * });
 * const _this = pulumi.all([thisServiceAccount.clientId, thisServiceAccountSecret.secretId]).apply(([clientId, secretId]) => mongodbatlas.getServiceAccountSecretOutput({
 *     orgId: orgId,
 *     clientId: clientId,
 *     secretId: secretId,
 * }));
 * export const secretId = thisServiceAccountSecret.secretId;
 * export const secret = thisServiceAccountSecret.secret;
 * export const secretExpiresAt = _this.apply(_this => _this.expiresAt);
 * ```
 *
 * ## Import
 *
 * Import the Service Account Secret resource by using the Organization ID, Client ID, and Secret ID in the format `ORG_ID/CLIENT_ID/SECRET_ID`, e.g.
 *
 * ```sh
 * $ pulumi import mongodbatlas:index/serviceAccountSecret:ServiceAccountSecret test 6117ac2fe2a3d04ed27a987v/mdb_sa_id_1234567890abcdef12345678/04ed271234abcde2a3da123a
 * ```
 * For more information, see [Create One Organization Service Account Secret](https://www.mongodb.com/docs/api/doc/atlas-admin-api-v2/operation/operation-createorgserviceaccountsecret) in the MongoDB Atlas API documentation.
 */
export class ServiceAccountSecret extends pulumi.CustomResource {
    /**
     * Get an existing ServiceAccountSecret resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: ServiceAccountSecretState, opts?: pulumi.CustomResourceOptions): ServiceAccountSecret {
        return new ServiceAccountSecret(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'mongodbatlas:index/serviceAccountSecret:ServiceAccountSecret';

    /**
     * Returns true if the given object is an instance of ServiceAccountSecret.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is ServiceAccountSecret {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === ServiceAccountSecret.__pulumiType;
    }

    /**
     * The Client ID of the Service Account.
     */
    declare public readonly clientId: pulumi.Output<string>;
    /**
     * The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
     */
    declare public /*out*/ readonly createdAt: pulumi.Output<string>;
    /**
     * The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
     */
    declare public /*out*/ readonly expiresAt: pulumi.Output<string>;
    /**
     * The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
     */
    declare public /*out*/ readonly lastUsedAt: pulumi.Output<string>;
    /**
     * The masked Service Account secret.
     */
    declare public /*out*/ readonly maskedSecretValue: pulumi.Output<string>;
    /**
     * Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
     */
    declare public readonly orgId: pulumi.Output<string>;
    /**
     * The secret for the Service Account. It will be returned only the first time after creation.
     */
    declare public /*out*/ readonly secret: pulumi.Output<string>;
    /**
     * The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
     */
    declare public readonly secretExpiresAfterHours: pulumi.Output<number | undefined>;
    /**
     * Unique 24-hexadecimal digit string that identifies the secret.
     */
    declare public /*out*/ readonly secretId: pulumi.Output<string>;

    /**
     * Create a ServiceAccountSecret resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: ServiceAccountSecretArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: ServiceAccountSecretArgs | ServiceAccountSecretState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as ServiceAccountSecretState | undefined;
            resourceInputs["clientId"] = state?.clientId;
            resourceInputs["createdAt"] = state?.createdAt;
            resourceInputs["expiresAt"] = state?.expiresAt;
            resourceInputs["lastUsedAt"] = state?.lastUsedAt;
            resourceInputs["maskedSecretValue"] = state?.maskedSecretValue;
            resourceInputs["orgId"] = state?.orgId;
            resourceInputs["secret"] = state?.secret;
            resourceInputs["secretExpiresAfterHours"] = state?.secretExpiresAfterHours;
            resourceInputs["secretId"] = state?.secretId;
        } else {
            const args = argsOrState as ServiceAccountSecretArgs | undefined;
            if (args?.clientId === undefined && !opts.urn) {
                throw new Error("Missing required property 'clientId'");
            }
            if (args?.orgId === undefined && !opts.urn) {
                throw new Error("Missing required property 'orgId'");
            }
            resourceInputs["clientId"] = args?.clientId;
            resourceInputs["orgId"] = args?.orgId;
            resourceInputs["secretExpiresAfterHours"] = args?.secretExpiresAfterHours;
            resourceInputs["createdAt"] = undefined /*out*/;
            resourceInputs["expiresAt"] = undefined /*out*/;
            resourceInputs["lastUsedAt"] = undefined /*out*/;
            resourceInputs["maskedSecretValue"] = undefined /*out*/;
            resourceInputs["secret"] = undefined /*out*/;
            resourceInputs["secretId"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        const secretOpts = { additionalSecretOutputs: ["secret"] };
        opts = pulumi.mergeOptions(opts, secretOpts);
        super(ServiceAccountSecret.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering ServiceAccountSecret resources.
 */
export interface ServiceAccountSecretState {
    /**
     * The Client ID of the Service Account.
     */
    clientId?: pulumi.Input<string>;
    /**
     * The date that the secret was created on. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
     */
    createdAt?: pulumi.Input<string>;
    /**
     * The date for the expiration of the secret. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
     */
    expiresAt?: pulumi.Input<string>;
    /**
     * The last time the secret was used. This parameter expresses its value in the ISO 8601 timestamp format in UTC.
     */
    lastUsedAt?: pulumi.Input<string>;
    /**
     * The masked Service Account secret.
     */
    maskedSecretValue?: pulumi.Input<string>;
    /**
     * Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
     */
    orgId?: pulumi.Input<string>;
    /**
     * The secret for the Service Account. It will be returned only the first time after creation.
     */
    secret?: pulumi.Input<string>;
    /**
     * The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
     */
    secretExpiresAfterHours?: pulumi.Input<number>;
    /**
     * Unique 24-hexadecimal digit string that identifies the secret.
     */
    secretId?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a ServiceAccountSecret resource.
 */
export interface ServiceAccountSecretArgs {
    /**
     * The Client ID of the Service Account.
     */
    clientId: pulumi.Input<string>;
    /**
     * Unique 24-hexadecimal digit string that identifies the organization that contains your projects.
     */
    orgId: pulumi.Input<string>;
    /**
     * The expiration time of the new Service Account secret, provided in hours. The minimum and maximum allowed expiration times are subject to change and are controlled by the organization's settings. This attribute is required when creating the Service Account Secret and you cannot update it later.
     */
    secretExpiresAfterHours?: pulumi.Input<number>;
}
